"use strict";(self.webpackChunkreact_chat_app=self.webpackChunkreact_chat_app||[]).push([[1752,101,4329,4411,7352,9961,2775,8527,714,2611,8263,1256,9041,4273,67,3414,22,5665,3693,3201,4302,1077,8641,517,8731,8325,2786,9604,7730,9563,4498,9599,2449,9855,3537,3487],{714:function(e,t,n){n.r(t),n.d(t,{Options:function(){return s}});n(2791);var a=n(9930),r=n(184),s=function(e){var t=e.onReply,n=e.onDelete,s=e.onCopy,o=e.selector,i=e.date,c=e.msgId,l=e.msg;return(0,r.jsxs)(a.DropDown,{selector:o,placement:"bottom",children:[(0,r.jsxs)(a.DropDownItem,{className:"dropdown-option",onClick:function(){return t(i,c)},children:[(0,r.jsx)("span",{children:"Reply"}),(0,r.jsx)("i",{className:"bx-share"})]}),(0,r.jsxs)(a.DropDownItem,{className:"dropdown-option",children:[(0,r.jsx)("span",{children:"Forward"}),(0,r.jsx)("i",{className:"bx-share-alt"})]}),(0,r.jsxs)(a.DropDownItem,{className:"dropdown-option",onClick:function(){return s(l)},children:[(0,r.jsx)("span",{children:"Copy"}),(0,r.jsx)("i",{className:"bx-copy"})]}),(0,r.jsxs)(a.DropDownItem,{className:"dropdown-option",children:[(0,r.jsx)("span",{children:"Mark as Unread"}),(0,r.jsx)("i",{className:"bx-message-error"})]}),(0,r.jsxs)(a.DropDownItem,{className:"dropdown-option",onClick:function(){return n(i,c)},children:[(0,r.jsx)("span",{children:"Delete"}),(0,r.jsx)("i",{className:"bx-trash"})]})]})}},2611:function(e,t,n){n.r(t),n.d(t,{Reaction:function(){return i}});n(2791);var a=n(9930),r=n(2703),s=n(8263),o=n(184),i=function(e){var t=e.reactions,n=e.selector,i=e.onClick;return(0,o.jsx)(a.DropDown,{selector:n,className:s.default.container,placement:"bottom",children:t.map((function(e,t){return(0,o.jsx)(a.DropDownItem,{className:s.default.wrapper,onClick:function(){return i(e)},children:(0,o.jsx)("img",{id:e,src:(0,r.getReactionUrl)(e)})},t)}))})}},2775:function(e,t,n){n.r(t),n.d(t,{Conversation:function(){return v}});var a=n(4942),r=n(1413),s=n(885),o=n(2791),i=n(2703),c=n(2611),l=n(714),u=n(2426),d=n.n(u),p=n(8527),f=n(5665),m=n(3201),h=n(184),v=function(e){var t=e.chats,n=e.onDelete,u=e.onCopy,v=e.onReply,_=e.userId,x=e.focusMsgById,j=e.otherUserId,g=e.unReadMsg,y=e.isGroupChat,b=e.reactionList,w=e.handleReaction,N=e.findMsgByMsgId,k=(0,o.useState)({}),C=(0,s.Z)(k,2),Z=C[0],I=C[1],S=(0,o.useState)({reaction:!1,seen:!1}),D=(0,s.Z)(S,2),R=D[0],M=D[1],A=function(e){var t=e.msgId,n=e.type;if(R[n])return M((0,r.Z)((0,r.Z)({},R),{},(0,a.Z)({},n,!1)));var s=N(t);s&&(I(s),M((0,r.Z)((0,r.Z)({},R),{},(0,a.Z)({},n,!0))))};return(0,h.jsxs)(o.Fragment,{children:[t.map((function(e,s){var f=e.day,m=e.messages;return(0,h.jsxs)(o.Fragment,{children:[(0,h.jsx)("div",{className:p.default.date,children:(0,h.jsx)("span",{children:d()(f).format("D MMMM YYYY")})}),(0,h.jsx)("div",{className:p.default.container,children:m.map((function(e,f){var N=e.msg,k=e.date,C=e.sender,Z=(C=void 0===C?{}:C).id,I=void 0===Z?null:Z,S=C.name,D=void 0===S?null:S,R=C.avatar,M=void 0===R?null:R,E=e._id,P=e.seen,L=e.reply,T=void 0===L?null:L,O=e.reactions,B=e.totalReactions;return(0,h.jsxs)(o.Fragment,{children:[g.id&&g.id===E&&(0,h.jsx)("div",{className:p.default.unread_msg,children:(0,h.jsxs)("span",{children:[g.total," Unread Message",g.total>1&&"s"]})}),(0,h.jsxs)("div",(0,r.Z)((0,r.Z)((0,r.Z)({className:(0,i.classNames)(p.default.chat_wrapper,(0,a.Z)({},p.default.end,_===I)),msgid:E},0===s&&0===f&&{first:""}),s===t.length-1&&f===m.length-1&&{last:""}),{},{children:[(0,h.jsxs)("div",{children:[(0,h.jsxs)("div",(0,r.Z)((0,r.Z)({className:p.default.chat_card},_!==I&&{id:"reaction-".concat(E)}),{},{children:[T&&(0,h.jsx)("div",{className:p.default.reply_card,onClick:function(){return x(T._id,"smooth")},children:(0,h.jsx)("span",{children:T.msg})}),(0,h.jsxs)("div",{children:[y&&I!==_&&(0,h.jsx)("span",{style:{color:M},className:p.default.user_name,children:D.split(" ")[0]}),(0,h.jsx)("span",{children:N})]}),(0,h.jsxs)("div",{className:p.default.msg_time,children:[(0,h.jsx)("i",{className:"bx-time ".concat(p.default.clock)}),(0,h.jsx)("span",{children:d()(new Date(k)).format("h:mm a")}),(0,h.jsx)("i",{className:"bx bx-check-double ".concat(p.default.tick),seen:Array.isArray(j)?(P.length===j.length).toString():P.some((function(e){return e===j})).toString(),onClick:function(e){e.stopPropagation(),console.log("seen"),A({msgId:E,type:"seen"})}})]})]})),(0,h.jsx)("div",{className:p.default.options,children:(0,h.jsx)("i",{className:"bx-dots-vertical-rounded",id:"option-".concat(E)})})]}),B>0&&(0,h.jsxs)("div",{className:p.default.reactions,onClick:function(){return A({msgId:E,type:"reaction"})},children:[O.map((function(e,t){var n=e.reaction;return(0,h.jsx)("img",{src:(0,i.getReactionUrl)(n)},t)})),(0,h.jsx)("span",{children:B})]})]})),(0,h.jsx)(l.Options,{selector:"#option-".concat(E),onCopy:u,onReply:v,onDelete:n,date:k,msgId:E,msg:N}),(0,h.jsx)(c.Reaction,{selector:"#reaction-".concat(E),reactions:b,onClick:function(e){return w(e,O,E)}})]},E)}))})]},s)})),(0,h.jsx)(f.default,{isOpen:R.reaction,message:Z,toggle:function(){return A({type:"reaction"})}}),(0,h.jsx)(m.default,{isOpen:R.seen,message:Z,toggle:function(){return A({type:"seen"})}})]})}},1256:function(e,t,n){n.r(t),n.d(t,{Header:function(){return c}});var a=n(2791),r=n(9930),s=n(2703),o=n(9041),i=n(184),c=function(e){var t,n=e.clearChatId,c=e.chatDetails,l=e.toggleInfo,u=e.handleCall,d=e.show,p=matchMedia("(max-width: 768px)").matches;return(0,i.jsxs)("div",{className:(0,s.classNames)(o.default.chat_header,d&&o.default.show),children:[(0,i.jsxs)("div",{className:o.default.user_info,children:[(0,i.jsx)("div",{className:o.default.go_back,onClick:n,children:(0,i.jsx)("i",{className:"bx bx-chevron-left"})}),(0,i.jsx)(r.Avatar,{src:null===c||void 0===c?void 0:c.avatar,name:null===c||void 0===c?void 0:c.name,size:50,status:null===c||void 0===c?void 0:c.status,userId:null===c||void 0===c?void 0:c.userId}),(0,i.jsxs)("div",{className:o.default.user_name,children:[(0,i.jsx)("b",{children:null===c||void 0===c?void 0:c.name}),(0,i.jsx)("span",{userid:null===c||void 0===c?void 0:c.userId,children:null!==c&&void 0!==c&&c.users?"".concat(null===c||void 0===c||null===(t=c.users)||void 0===t?void 0:t.length," Members"):null!==c&&void 0!==c&&c.status?"Online":"Offline"})]})]}),(0,i.jsxs)("div",{className:o.default.chat_icons,children:[(0,i.jsx)("i",{className:"bx-video",onClick:function(){return u("video")}}),(0,i.jsx)("i",{className:"bxs-info-circle",onClick:l}),(0,i.jsx)("i",{className:"bx-dots-vertical-rounded",id:"more-option"}),(0,i.jsxs)(r.DropDown,{selector:"#more-option",placement:"bottom-end",children:[p&&(0,i.jsxs)(a.Fragment,{children:[(0,i.jsxs)(r.DropDownItem,{className:"dropdown-option",onClick:l,children:[(0,i.jsx)("span",{children:"View Profile"}),(0,i.jsx)("i",{className:"bx bx-user"})]}),(0,i.jsxs)(r.DropDownItem,{className:"dropdown-option",onClick:function(){return u("video")},children:[(0,i.jsx)("span",{children:"Video"}),(0,i.jsx)("i",{className:"bx bx-video"})]})]}),(0,i.jsxs)(r.DropDownItem,{className:"dropdown-option",children:[(0,i.jsx)("span",{children:"Muted"}),(0,i.jsx)("i",{className:"bx-microphone-off"})]}),(0,i.jsxs)(r.DropDownItem,{className:"dropdown-option",children:[(0,i.jsx)("span",{children:"Delete"}),(0,i.jsx)("i",{className:"bx-trash"})]})]})]})]})}},4273:function(e,t,n){n.r(t),n.d(t,{Loader:function(){return s}});n(2791);var a=n(67),r=n(184),s=function(){return(0,r.jsxs)("div",{className:a.default.loader,children:[(0,r.jsx)("div",{}),(0,r.jsx)("div",{}),(0,r.jsx)("div",{})]})}},3414:function(e,t,n){n.r(t),n.d(t,{PageLoader:function(){return o}});n(2791);var a=n(2703),r=n(22),s=n(184),o=function(){var e=["25%","27.5%","30%","32.5%","35%"],t=Array.from({length:10},(function(){return e[Math.floor(Math.random()*e.length)]}));return(0,s.jsx)("div",{className:r.default.container,children:t.map((function(e,t){return(0,s.jsxs)("div",{className:(0,a.classNames)(r.default.card,t%2===0&&r.default.end),style:{"--width":e},children:[(0,s.jsx)("div",{className:"".concat(r.default.line," skeleton")}),(0,s.jsx)("div",{className:"".concat(r.default.line," skeleton")})]},t)}))})}},5665:function(e,t,n){n.r(t);var a=n(885),r=n(2791),s=n(9930),o=n(2703),i=n(3693),c=n(184);t.default=function(e){var t,n=e.isOpen,l=e.toggle,u=e.message,d=(0,r.useState)(),p=(0,a.Z)(d,2),f=p[0],m=p[1],h=(0,r.useMemo)((function(){return u.hasOwnProperty("reactions")?0===f||f?u.reactions[f].users:u.reactions.reduce((function(e,t){var n=t.users;return e.concat(n)}),[]):[]}),[f,u]);return(0,c.jsx)(s.Modal,{isOpen:n,toggle:l,children:(0,c.jsxs)("div",{className:i.default.popup,children:[(0,c.jsxs)("div",{className:i.default.reactions,children:[(0,c.jsx)("div",{className:i.default.all,onClick:function(){return m()},children:(0,c.jsx)("span",{children:"All"})}),null===u||void 0===u||null===(t=u.reactions)||void 0===t?void 0:t.map((function(e,t){var n=e.reaction,a=e.total;return(0,c.jsxs)("div",{className:i.default.card,onClick:function(){return m(t)},children:[(0,c.jsx)("img",{src:(0,o.getReactionUrl)(n)}),(0,c.jsx)("span",{children:a})]},t)}))]}),(0,c.jsx)("div",{className:i.default.users,children:h.map((function(e,t){var n=e.avatar,a=(e.email,e.id),r=e.name,o=e.status;return(0,c.jsxs)("div",{className:i.default.card,children:[(0,c.jsx)(s.Avatar,{name:r,size:40,status:o,userId:a,src:n}),(0,c.jsx)("span",{children:r})]},t)}))})]})})}},3201:function(e,t,n){n.r(t);var a=n(2791),r=n(9930),s=n(4302),o=n(184);t.default=function(e){var t=e.isOpen,n=e.toggle,i=e.message,c=(0,a.useMemo)((function(){return i.hasOwnProperty("seen")?i.seen:[]}),[i]);return(0,o.jsx)(r.Modal,{isOpen:t,toggle:n,children:(0,o.jsxs)("div",{className:s.default.popup,children:[(0,o.jsx)("div",{className:s.default.reactions,children:(0,o.jsx)("div",{className:s.default.all,children:(0,o.jsx)("span",{children:"Seen"})})}),(0,o.jsx)("div",{className:s.default.users,children:c.map((function(e,t){var n=e.avatar,a=(e.email,e.id),i=e.name,c=e.status;return(0,o.jsxs)("div",{className:s.default.card,children:[(0,o.jsx)(r.Avatar,{name:i,size:40,status:c,userId:a,src:n}),(0,o.jsx)("span",{children:i})]},t)}))})]})})}},8641:function(e,t,n){n.r(t),n.d(t,{Emoji:function(){return l}});var a=n(885),r=n(2791),s=n(9930),o=n(5357),i=n(517),c=n(184),l=function(e){var t=e.toggle,n=e.isOpen,l=e.selector,u=e.onChange,d=(0,r.useRef)(),p=function(e){return function(){u(e),t()}};return(0,c.jsx)(s.DropDown,{isOpen:n,toggle:t,selector:l,placement:"top-center",children:(0,c.jsxs)("div",{className:i.default.emoji_container,children:[(0,c.jsxs)("div",{className:i.default.emoji_header,children:[[{label:"Smileys & People",icon:"bx-smile"},{label:"Animals & Nature",icon:"bx-leaf"},{label:"Travel & Places",icon:"bx-home-alt"},{label:"Activities",icon:"bx-baseball"},{label:"Objects",icon:"bx-world"},{label:"Symbols",icon:"bx-bulb"},{label:"Flags",icon:"bx-flag"}].map((function(e,t){var n,a=e.label,r=e.icon;return(0,c.jsxs)("div",{id:"emoji-type-".concat(t),className:i.default.emoji_type,onClick:(n=a,function(){var e=document.querySelector('[emoji-title="'.concat(n,'"]')).offsetTop;d.current.scrollTo(0,e-95)}),children:[(0,c.jsx)("i",{className:r}),(0,c.jsx)(s.Tooltip,{placement:"top",selector:"#emoji-type-".concat(t),offset:10,children:a})]},t)})),(0,c.jsxs)("div",{id:"emoji-close",className:i.default.close,onClick:t,children:[(0,c.jsx)("span",{children:"\u2a2f"}),(0,c.jsx)(s.Tooltip,{placement:"top",selector:"#emoji-close",offset:10,children:"Close"})]})]}),(0,c.jsxs)("div",{className:i.default.search_emoji,children:[(0,c.jsx)("input",{type:"text",placeholder:"Search Emoji"}),(0,c.jsx)("div",{className:i.default.search_icon,children:(0,c.jsx)("i",{className:"bx-search-alt-2"})})]}),(0,c.jsx)("div",{className:i.default.emoji_card,ref:d,children:Object.entries(o).map((function(e,t){var n=(0,a.Z)(e,2),r=n[0],s=n[1];return(0,c.jsxs)("div",{children:[(0,c.jsx)("div",{className:i.default.emoji_title,"emoji-title":r,children:(0,c.jsx)("b",{children:r})}),(0,c.jsx)("div",{className:i.default.emoji_list,children:s.map((function(e,t){var n=e.emoji,a=e.description;return(0,c.jsx)("button",{title:a,onClick:p(n),children:(0,c.jsx)("div",{className:i.default.emoji_icon,children:n})},t)}))})]},t)}))})]})})}},1077:function(e,t,n){n.r(t),n.d(t,{TextArea:function(){return h}});var a=n(7762),r=n(4165),s=n(5861),o=n(885),i=n(2791),c=n(3487),l=n(8641),u=n(5145),d=n(2703),p=n(9102),f=n(8731),m=n(184),h=function(e){var t=e.onSend,n=e.onFocus,h=e.chatId,v=e.otherUser,_=(0,i.useState)(!1),x=(0,o.Z)(_,2),j=x[0],g=x[1],y=(0,i.useState)(""),b=(0,o.Z)(y,2),w=b[0],N=b[1],k=(0,i.useState)(),C=(0,o.Z)(k,2),Z=C[0],I=C[1],S=(0,i.useState)(!1),D=(0,o.Z)(S,2),R=D[0],M=D[1],A=(0,i.useRef)();(0,i.useEffect)((function(){var e=new(window.SpeechRecognition||window.webkitSpeechRecognition);e.interimResults=!0,e.continuous=!0,e.onstart=function(e){console.log(e)},e.onend=function(e){console.log(e)},e.onresult=function(e){var t=e.results,n=Array.from(t).map((function(e){return e[0]})).map((function(e){return e.transcript})).join("");N(w.concat(n))},e.onerror=function(e){console.log(e)},I(e)}),[]);var E=function(){return Array.isArray(v)?v.map((function(e){return{id:e._id,name:e.name}})):v},P=function(){var e=(0,s.Z)((0,r.Z)().mark((function e(){var n;return(0,r.Z)().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(0!==(n=A.current.value).length){e.next=3;break}return e.abrupt("return");case 3:return e.next=5,t(n);case 5:A.current.value="";case 6:case"end":return e.stop()}}),e)})));return function(){return e.apply(this,arguments)}}(),L=function(){var e=(0,s.Z)((0,r.Z)().mark((function e(t){var n,s,o,i,l,d;return(0,r.Z)().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:n=t.target.files,e.prev=1,s=new FormData,o=(0,a.Z)(n);try{for(o.s();!(i=o.n()).done;)l=i.value,s.append("file",l)}catch(r){o.e(r)}finally{o.f()}return e.next=7,(0,c.fileUpload)(s);case 7:d=e.sent,console.log(d),e.next=14;break;case 11:e.prev=11,e.t0=e.catch(1),(0,u.Toast)({type:"error",message:null===e.t0||void 0===e.t0?void 0:e.t0.message});case 14:case"end":return e.stop()}}),e,null,[[1,11]])})));return function(t){return e.apply(this,arguments)}}();return(0,m.jsxs)(i.Fragment,{children:[(0,m.jsxs)("div",{className:f.default.chat_input,children:[(0,m.jsx)("i",{className:"bx-smile",id:"emoji"}),(0,m.jsxs)("div",{className:f.default.input_field,children:[(0,m.jsx)("textarea",{ref:A,placeholder:"Type your message...",name:"chat-input",onFocus:n,onKeyDown:function(){R||(p.socket.emit("start-typing",h,E()),M(!0))},onChange:(0,d.debounce)((function(){p.socket.emit("end-typing",h,E()),M(!1)}),1e3)}),(0,m.jsx)("label",{htmlFor:"chat-file",children:(0,m.jsx)("i",{className:"bx-paperclip",id:"attach"})}),(0,m.jsx)("input",{id:"chat-file",type:"file",onChange:L,multiple:!0,hidden:!0})]}),(0,m.jsx)("button",{onClick:P,children:(0,m.jsx)("i",{className:"bxs-send"})}),(0,m.jsx)("i",{className:"bx-microphone",id:"mic",onPointerDown:function(){null===Z||void 0===Z||Z.start()},onPointerUp:function(){null===Z||void 0===Z||Z.stop()}})]}),(0,m.jsx)(l.Emoji,{selector:"#emoji",isOpen:j,toggle:function(){g(!j)},onChange:function(e){N(w.concat(e))}})]})}},8325:function(e,t,n){n.r(t),n.d(t,{VideoPopup:function(){return o}});n(2791);var a=n(9930),r=n(2786),s=n(184),o=function(e){var t=e.isOpen;return(0,s.jsx)(a.Modal,{isOpen:t,width:750,closeClickOnOutside:!1,zIndex:2002,children:(0,s.jsxs)("div",{className:r.default.video_container,children:[(0,s.jsx)("video",{id:"local-stream",className:r.default.local,poster:"https://vue.pixelstrap.com/chitchat/_nuxt/img/videocall.336a27d.jpg",autoPlay:!0,muted:!0}),(0,s.jsx)("video",{id:"remote-stream",className:r.default.remote,poster:"https://vue.pixelstrap.com/chitchat/_nuxt/img/videocall_bg.ab164fb.jpg",autoPlay:!0})]})})}},7352:function(e,t,n){n.r(t),n.d(t,{Chat:function(){return D}});var a=n(7762),r=n(4942),s=n(1413),o=n(2982),i=n(4165),c=n(5861),l=n(885),u=n(2791),d=n(9930),p=n(1077),f=n(1256),m=n(2775),h=n(8325),v=n(4717),_=n(3537),x=n(9855),j=n(2449),g=n(2703),y=n(5322),b=n(9102),w=n(4273),N=n(3414),k=n(101),C=n(4329),Z=n(9961),I=n(184),S=new Audio(k),D=function(e){var t=e.reactions,n=(0,u.useRef)(),k=(0,u.useRef)(),D=(0,v.useAuth)(),R=D.user,M=D.chatId,A=D.clearChatId,E=(0,u.useRef)(),P=(0,u.useState)([]),L=(0,l.Z)(P,2),T=L[0],O=L[1],B=(0,u.useState)(!1),H=(0,l.Z)(B,2),F=H[0],U=H[1],q=(0,u.useState)(!1),z=(0,l.Z)(q,2),V=z[0],Q=z[1],Y=(0,u.useState)(null),G=(0,l.Z)(Y,2),W=G[0],J=G[1],K=(0,u.useState)({}),X=(0,l.Z)(K,2),$=X[0],ee=X[1],te=(0,u.useState)(!1),ne=(0,l.Z)(te,2),ae=ne[0],re=ne[1],se=(0,u.useState)(!1),oe=(0,l.Z)(se,2),ie=oe[0],ce=oe[1],le=(0,u.useState)({}),ue=(0,l.Z)(le,2),de=ue[0],pe=ue[1],fe=(0,u.useState)(!0),me=(0,l.Z)(fe,2),he=me[0],ve=me[1],_e=(0,u.useState)(!1),xe=(0,l.Z)(_e,2),je=xe[0],ge=xe[1],ye=(0,u.useState)(!1),be=(0,l.Z)(ye,2),we=be[0],Ne=be[1],ke=(0,u.useRef)(),Ce=(0,u.useRef)();(0,u.useEffect)((function(){return document.addEventListener("socket",Ze),function(){document.removeEventListener("socket",Ze)}}),[]),(0,u.useEffect)((function(){0!==T.length&&O([]),Re()}),[M]),(0,u.useEffect)((function(){ke.current&&0!==T.length&&Oe(ke.current)}),[T]),(0,u.useEffect)((function(){ke.current&&!he&&Oe(ke.current)}),[he]);var Ze=function(){b.socket.on("message",He),b.socket.on("seen",Fe),b.socket.on("receive-offer",Ke),b.socket.on("receive-answer",Xe),b.socket.on("start-typing",Ie),b.socket.on("end-typing",Se)},Ie=function(e,t){var a=sessionStorage.getItem("chatId");if(a&&e===a&&n.current){var r=n.current.querySelector("[typingstatus]");r&&r.setAttribute("typing","".concat(t.split(" ")[0]," is typing..."))}},Se=function(e){var t=sessionStorage.getItem("chatId");if(t&&e===t&&n.current){var a=n.current.querySelector("[typingstatus]");a&&a.removeAttribute("typing")}},De=function(){U(!F)},Re=function(){var e=(0,c.Z)((0,i.Z)().mark((function e(){var t,n,a,r,s,o,c,l,u,p,f,m,h,v;return(0,i.Z)().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return ve(!0),e.prev=1,e.next=4,(0,x.getChatById)(M,{limit:50});case 4:if(t=e.sent,n=t.data.data,a=n.chatDetails,r=void 0===a?{}:a,s=n.unReadMsgList,o=void 0===s?[]:s,c=n.msgList,l=void 0===c?[]:c,u=n.hasMoreTop,p=void 0!==u&&u,f=n.hasMoreBottom,m=void 0!==f&&f,h=n.totalUnReadMsg,v=void 0===h?0:h,!(o.length>0)){e.next=27;break}return ke.current=o[0].messages[0]._id,Ee(l,o),pe({id:ke.current,total:v}),Ne(m),e.next=25,(0,x.markAsRead)(M);case 25:e.next=28;break;case 27:l.length>0&&(ke.current=l.at(-1).messages.at(-1)._id);case 28:ee(r),O(l),ge(p),e.next=36;break;case 33:e.prev=33,e.t0=e.catch(1),(0,d.Toast)({type:"error",message:null===e.t0||void 0===e.t0?void 0:e.t0.message});case 36:return e.prev=36,ve(!1),e.finish(36);case 39:case"end":return e.stop()}}),e,null,[[1,33,36,39]])})));return function(){return e.apply(this,arguments)}}(),Me=function(){var e=(0,c.Z)((0,i.Z)().mark((function e(t,n){var a,r,s,c,l;return(0,i.Z)().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,e.next=3,(0,x.getChatMessagesByMsgId)(M,t,{limit:50,latest:n});case 3:a=e.sent,r=a.data.data,s=r.list,c=r.hasMore,l=(0,o.Z)(T),n?Ee(l,s):Ae(l,s.reverse()),O(l),n?Ne(c):ge(c),e.next=16;break;case 13:e.prev=13,e.t0=e.catch(0),(0,d.Toast)({type:"error",message:null===e.t0||void 0===e.t0?void 0:e.t0.message});case 16:return e.prev=16,n?ce(!1):re(!1),e.finish(16);case 19:case"end":return e.stop()}}),e,null,[[0,13,16,19]])})));return function(t,n){return e.apply(this,arguments)}}(),Ae=function(e,t){t.forEach((function(t,n){var a,r=t.day,s=t.messages,i=e.findIndex((function(e){var t=e.day;return r===t}));-1===i?e.unshift({day:r,messages:s}):(a=e[i].messages).unshift.apply(a,(0,o.Z)(s)),0===n&&(ke.current=s[s.length-1]._id)}))},Ee=function(e,t){t.forEach((function(n,a){var r,s=n.day,i=n.messages,c=e.findIndex((function(e){var t=e.day;return s===Ye(t)}));-1===c?e.push({day:s,messages:i}):(r=e[c].messages).push.apply(r,(0,o.Z)(i)),0===a&&(ke.current=t[0].messages[0]._id)}))},Pe=function(){var e=(0,c.Z)((0,i.Z)().mark((function e(t){return(0,i.Z)().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(M){e.next=2;break}return e.abrupt("return");case 2:return e.prev=2,e.next=5,(0,x.markAsReadByMsgId)(M,t);case 5:e.next=10;break;case 7:e.prev=7,e.t0=e.catch(2),console.log(e.t0);case 10:case"end":return e.stop()}}),e,null,[[2,7]])})));return function(t){return e.apply(this,arguments)}}(),Le=function(){var e=(0,c.Z)((0,i.Z)().mark((function e(t){var n;return(0,i.Z)().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,n=(0,s.Z)({msg:t,date:(new Date).toISOString()},W&&{reply:W}),e.next=4,(0,_.createMessage)(M,n);case 4:W&&Te(),e.next=10;break;case 7:e.prev=7,e.t0=e.catch(0),(0,d.Toast)({type:"error",message:null===e.t0||void 0===e.t0?void 0:e.t0.message});case 10:case"end":return e.stop()}}),e,null,[[0,7]])})));return function(t){return e.apply(this,arguments)}}(),Te=function(){J(null)},Oe=function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:ke.current||null,t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:"auto";if(e){var n=document.querySelector("[msgid='".concat(e,"']"));n&&n.scrollIntoView({block:"center",behavior:t})}},Be=(0,u.useMemo)((function(){return null}),[W]),He=function(e){var t=e.message,n=e.chat,a=e.userId;O((function(e){Qe(t.msg),Ve();var r=(0,o.Z)(e);return function(e,t,n){var a=e.findIndex((function(e){var t=e.day;return n===t}));-1===a?e.push({day:n,messages:[t]}):e[a].messages.push(t)}(r,t,Ye(t.date)),ke.current=t._id,t.sender.id!==a&&sessionStorage.getItem("chatId")===n._id&&Pe(t._id),r}))},Fe=function(e){var t=e.userId,n=e.msgId;if((null===R||void 0===R?void 0:R.id)!==t){var a=function(e){var t=document.querySelector("[msgid='".concat(e,"']"));t&&t.querySelector("[seen]").setAttribute("seen",!0)};Array.isArray(n)?n.forEach((function(e){var t=e.id;a(t)})):a(n)}},Ue=function(){var e=(0,c.Z)((0,i.Z)().mark((function e(t,n,r){var s,o,c,u,d;return(0,i.Z)().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:o=(0,a.Z)(n.entries()),e.prev=1,o.s();case 3:if((c=o.n()).done){e.next=10;break}if(u=(0,l.Z)(c.value,2),u[0],d=u[1].users,!(s=d.find((function(e,t){var n=e.id;return R.id===n})))){e.next=8;break}return e.abrupt("break",10);case 8:e.next=3;break;case 10:e.next=15;break;case 12:e.prev=12,e.t0=e.catch(1),o.e(e.t0);case 15:return e.prev=15,o.f(),e.finish(15);case 18:s?ze({reaction:t,id:s.reactionId}):qe({reaction:t,msgId:r});case 19:case"end":return e.stop()}}),e,null,[[1,12,15,18]])})));return function(t,n,a){return e.apply(this,arguments)}}(),qe=function(){var e=(0,c.Z)((0,i.Z)().mark((function e(t){var n;return(0,i.Z)().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,e.next=3,(0,x.createReaction)(t);case 3:n=e.sent,console.log(n),e.next=10;break;case 7:e.prev=7,e.t0=e.catch(0),(0,d.Toast)({type:"error",message:null===e.t0||void 0===e.t0?void 0:e.t0.message});case 10:case"end":return e.stop()}}),e,null,[[0,7]])})));return function(t){return e.apply(this,arguments)}}(),ze=function(){var e=(0,c.Z)((0,i.Z)().mark((function e(t){var n;return(0,i.Z)().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,e.next=3,(0,x.updateReaction)(t);case 3:n=e.sent,console.log(n),e.next=10;break;case 7:e.prev=7,e.t0=e.catch(0),(0,d.Toast)({type:"error",message:null===e.t0||void 0===e.t0?void 0:e.t0.message});case 10:case"end":return e.stop()}}),e,null,[[0,7]])})));return function(t){return e.apply(this,arguments)}}(),Ve=function(){S.muted=!1,S.play()},Qe=function(){var e=(0,c.Z)((0,i.Z)().mark((function e(t){return(0,i.Z)().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if("granted"===Notification.permission){e.next=2;break}return e.abrupt("return");case 2:new Notification("New Message",{body:t,icon:C});case 3:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}(),Ye=function(e){return e.split("T")[0]},Ge=function(){var e=(0,c.Z)((0,i.Z)().mark((function e(t){var n,a,r;return(0,i.Z)().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return Q(!0),e.prev=1,E.current=new RTCPeerConnection,E.current.onicecandidate=Je,E.current.ontrack=We,e.next=7,navigator.mediaDevices.getUserMedia({audio:{echoCancellation:!0,noiseSuppression:!0,autoGainControl:!0},video:!0});case 7:return n=e.sent,document.querySelector("#local-stream").srcObject=n,n.getTracks().forEach((function(e){E.current.addTrack(e,n)})),e.next=13,E.current.createOffer({offerToReceiveAudio:1,offerToReceiveVideo:1});case 13:return a=e.sent,e.next=16,E.current.setLocalDescription(a);case 16:return r={date:(new Date).toISOString(),offer:a,type:t},e.next=19,(0,j.initiateCall)(M,r);case 19:e.next=24;break;case 21:e.prev=21,e.t0=e.catch(1),(0,d.Toast)({type:"error",message:null===e.t0||void 0===e.t0?void 0:e.t0.message});case 24:case"end":return e.stop()}}),e,null,[[1,21]])})));return function(t){return e.apply(this,arguments)}}(),We=function(e){var t=(0,l.Z)(e.streams,1)[0];document.querySelector("#remote-stream").srcObject=t},Je=function(e){var t=e.target.localDescription,n=e.candidate;if(n&&(Ce.current=n),!n||!Ce.current)if("offer"===t.type){var a={offer:t,iceCandidate:Ce.current};b.socket.emit("send-offer",a,M)}else if("answer"===t.type){var r={answer:t,iceCandidate:Ce.current};b.socket.emit("send-answer",r,M)}},Ke=function(){var e=(0,c.Z)((0,i.Z)().mark((function e(t){var n,a,r,s,o;return(0,i.Z)().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return n=t.iceCandidate,a=t.offer,Q(!0),r=new RTCPeerConnection,E.current=r,E.current.onicecandidate=Je,E.current.ontrack=We,e.prev=6,e.next=9,navigator.mediaDevices.getUserMedia({audio:{echoCancellation:!0,noiseSuppression:!0,autoGainControl:!0},video:!0});case 9:return s=e.sent,document.querySelector("#local-stream").srcObject=s,s.getTracks().forEach((function(e){E.current.addTrack(e,s)})),e.next=15,E.current.setRemoteDescription(a);case 15:return e.next=17,E.current.addIceCandidate(n);case 17:return e.next=19,E.current.createAnswer();case 19:return o=e.sent,e.next=22,E.current.setLocalDescription(o);case 22:e.next=27;break;case 24:e.prev=24,e.t0=e.catch(6),console.log(e.t0);case 27:case"end":return e.stop()}}),e,null,[[6,24]])})));return function(t){return e.apply(this,arguments)}}(),Xe=function(){var e=(0,c.Z)((0,i.Z)().mark((function e(t){var n,a;return(0,i.Z)().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return n=t.iceCandidate,a=t.answer,e.prev=1,e.next=4,E.current.setRemoteDescription(a);case 4:return e.next=6,E.current.addIceCandidate(n);case 6:e.next=11;break;case 8:e.prev=8,e.t0=e.catch(1),console.log(e.t0);case 11:case"end":return e.stop()}}),e,null,[[1,8]])})));return function(t){return e.apply(this,arguments)}}();return(0,I.jsxs)("div",{ref:n,className:Z.default.chat_wrapper,onScroll:(0,g.debounce)((function(e){var t=e.target,a=t.scrollTop,r=t.scrollHeight,s=t.clientHeight;if(!(he||ae||ie)){if(je&&0===a){var o=n.current.querySelector("[first]").getAttribute("msgid");re(!0),Me(o,0)}if(we&&r-a===s){var i=n.current.querySelector("[last]").getAttribute("msgid");ce(!0),Me(i,1)}}}),100),children:[(0,I.jsx)(f.Header,{clearChatId:A,chatDetails:$,handleCall:Ge,toggleInfo:De,show:!!M}),ae&&(0,I.jsx)(w.Loader,{}),(0,I.jsx)("div",{id:"conversation",className:Z.default.chat_section,children:he?(0,I.jsx)(N.PageLoader,{}):(0,I.jsx)(m.Conversation,{chats:T,onDelete:function(e,t){var n=Ye(e);if(T.hasOwnProperty(n)){var a=T[n].filter((function(e){var n=e._id;return t!==n}));O((0,s.Z)((0,s.Z)({},T),{},(0,r.Z)({},n,a)))}},onCopy:function(e){navigator.clipboard.writeText(e)},onReply:function(e,t){var n=Ye(e);J({key:n,id:t})},userId:null===R||void 0===R?void 0:R.id,otherUserId:(null===$||void 0===$?void 0:$.userId)||(null===$||void 0===$?void 0:$.users),focusMsgById:Oe,chatId:M,unReadMsg:de,isGroupChat:!(null===$||void 0===$||!$.group),reactionList:t,handleReaction:Ue,findMsgByMsgId:function(e){var t,n,r=(0,a.Z)(T);try{for(r.s();!(n=r.n()).done;){if(t=n.value.messages.find((function(t){return t._id===e})))break}}catch(s){r.e(s)}finally{r.f()}if(t)return t}})}),(0,I.jsx)("div",{className:Z.default.typing,typingstatus:""}),ie&&(0,I.jsx)(w.Loader,{}),(0,I.jsx)(p.TextArea,{onSend:Le,onFocus:function(){matchMedia("(max-width: 768px)").matches&&Oe()},chatId:M,otherUser:null!==$&&void 0!==$&&$.userId?{id:null===$||void 0===$?void 0:$.userId,name:null===$||void 0===$?void 0:$.name}:null===$||void 0===$?void 0:$.users}),(0,I.jsx)(y.Z,{in:Boolean(W),timeout:250,classNames:{enterActive:Z.default.reply_enter,exitActive:Z.default.reply_exit},unmountOnExit:!0,children:(0,I.jsx)("div",{className:Z.default.reply_container,ref:k,children:(0,I.jsxs)("div",{className:Z.default.reply_card,children:[(0,I.jsx)("span",{className:"truncate-4",children:null===Be||void 0===Be?void 0:Be.msg}),(0,I.jsx)("i",{className:"bx-x ".concat(Z.default.close),onClick:Te})]})})}),(0,I.jsx)(d.OffCanvas,{isOpen:F,position:"right",className:Z.default.profile_sidebar,toggle:De,zIndex:2001,children:(0,I.jsx)("div",{children:"Hello"})}),(0,I.jsx)(h.VideoPopup,{isOpen:V})]})}},9604:function(e,t,n){n.r(t),n.d(t,{EmptyChat:function(){return s}});n(2791);var a=n(7730),r=n(184),s=function(){return(0,r.jsxs)("div",{className:a.default.empty_chat,children:[(0,r.jsxs)("svg",{xmlns:"http://www.w3.org/2000/svg",xmlnsXlink:"http://www.w3.org/1999/xlink",version:"1.1",id:"Layer_1",x:"0px",y:"0px",viewBox:"0 0 490 490",style:{enableBackground:"new 0 0 490 490"},xmlSpace:"preserve",children:[(0,r.jsx)("g",{children:(0,r.jsx)("g",{children:(0,r.jsxs)("g",{children:[(0,r.jsx)("path",{d:"M460,154.999H360v-120c0-16.542-13.458-30-30-30H30c-16.542,0-30,13.458-30,30v190c0,16.542,13.458,30,30,30h5v65     c0,4.107,2.512,7.797,6.333,9.303c1.191,0.47,2.433,0.697,3.665,0.697c2.719,0,5.384-1.11,7.313-3.177l67.035-71.823H130v120     c0,16.542,13.458,30,30,30h190v70c0,4.044,2.437,7.691,6.173,9.239c1.237,0.513,2.536,0.762,3.825,0.762     c2.602,0,5.16-1.017,7.073-2.929L444.142,405H460c16.542,0,30-13.458,30-30v-190C490,168.458,476.542,154.999,460,154.999z      M130,184.999v50h-15c-2.772,0-5.419,1.15-7.311,3.177L55,294.63v-49.63c0-5.523-4.477-10-10-10H30c-5.514,0-10-4.486-10-10v-190     c0-5.514,4.486-10,10-10h300c5.514,0,10,4.486,10,10v120H160C143.458,154.999,130,168.458,130,184.999z M470,375     c0,5.514-4.486,10-10,10h-20c-2.652,0-5.196,1.054-7.071,2.929L370,450.857V395c0-5.523-4.477-10-10-10H160     c-5.514,0-10-4.486-10-10v-190c0-5.514,4.486-10,10-10h300c5.514,0,10,4.486,10,10V375z"}),(0,r.jsx)("rect",{x:110,y:"54.999",width:190,height:20}),(0,r.jsx)("rect",{x:60,y:"104.999",width:240,height:20}),(0,r.jsx)("rect",{x:60,y:"154.999",width:50,height:20}),(0,r.jsx)("rect",{x:60,y:"54.999",width:35,height:20}),(0,r.jsx)("rect",{x:180,y:"219.999",width:260,height:20}),(0,r.jsx)("rect",{x:180,y:270,width:260,height:20}),(0,r.jsx)("rect",{x:180,y:320,width:190,height:20}),(0,r.jsx)("rect",{x:390,y:320,width:50,height:20})]})})}),(0,r.jsx)("g",{}),(0,r.jsx)("g",{}),(0,r.jsx)("g",{}),(0,r.jsx)("g",{}),(0,r.jsx)("g",{}),(0,r.jsx)("g",{}),(0,r.jsx)("g",{}),(0,r.jsx)("g",{}),(0,r.jsx)("g",{}),(0,r.jsx)("g",{}),(0,r.jsx)("g",{}),(0,r.jsx)("g",{}),(0,r.jsx)("g",{}),(0,r.jsx)("g",{}),(0,r.jsx)("g",{})]}),(0,r.jsxs)("div",{children:[(0,r.jsx)("b",{children:"It's nice to chat with somone"}),(0,r.jsx)("span",{children:"Pick a person from left menu and start your conversation"})]})]})}},9563:function(e,t,n){n.r(t),n.d(t,{SideBar:function(){return d}});var a=n(4942),r=n(2791),s=n(4717),o=n(3504),i=n(2703),c=n(9930),l=n(4498),u=n(184),d=function(e){var t=e.theme,n=e.toggleTheme,d=e.className,p=(0,r.useRef)(),f=(0,r.useRef)(),m=(0,s.useRouter)().pathName,h=(0,s.useAuth)(),v=h.logout,_=h.user,x=[{icon:"bx-user-circle",label:"Profile",to:"profile"},{icon:"bx-conversation",label:"Chats",to:"chats"},{icon:"bxs-user-detail",label:"Contacts",to:"contacts"},{icon:"bx-phone-call",label:"Calls",to:"calls"},{icon:"bx-cog",label:"Settings",to:"settings"}];(0,r.useLayoutEffect)((function(){var e,t=x.findIndex((function(e){return e.to===m.split("/")[1]})),n=matchMedia("(max-width: 768px)").matches,a=null===(e=p.current)||void 0===e?void 0:e.children[t],r=a.clientHeight,s=a.offsetTop,o=a.offsetLeft,i=a.clientWidth;n?(f.current.style.width="".concat(i,"px"),f.current.style.left="".concat(o,"px")):(f.current.style.height="".concat(r,"px"),f.current.style.top="".concat(s,"px"))}),[m]);var j=(0,r.useMemo)((function(){return matchMedia("(max-width: 768px)").matches?"top":"right"}),[]);return(0,u.jsxs)("div",{className:"".concat(l.default.sidebar," ").concat(d),children:[(0,u.jsx)("div",{className:l.default.logo,children:(0,u.jsx)("i",{className:"bxs-message-alt-detail"})}),(0,u.jsxs)("div",{className:l.default.nav_wrapper,ref:p,children:[x.map((function(e,t){var n=e.icon,r=e.label,s=e.to;return(0,u.jsxs)(o.OL,{to:s,className:function(e){var t=e.isActive;return(0,i.classNames)(l.default.nav_item,(0,a.Z)({},l.default.active,t))},children:[(0,u.jsx)("i",{className:(0,i.classNames)(n,l.default.nav_icon),id:"nav-".concat(t)}),(0,u.jsx)(c.Tooltip,{offset:20,placement:j,selector:"#nav-".concat(t),children:(0,u.jsx)("span",{children:r})})]},t)})),(0,u.jsx)("div",{className:(0,i.classNames)(l.default.nav_item,l.default.theme),children:(0,u.jsxs)("div",{className:l.default.nav_icon,children:[(0,u.jsx)("i",{id:"theme",className:"light"===t?"bx-moon":"bx-sun",onClick:n("light"===t?"dark":"light")}),(0,u.jsx)(c.Tooltip,{placement:j,selector:"#theme",offset:20,children:"light"===t?"Dark Mode":"Light Mode"})]})}),(0,u.jsx)("div",{id:"avatar",className:(0,i.classNames)(l.default.nav_item,l.default.profile),children:(0,u.jsx)(c.Avatar,{src:null===_||void 0===_?void 0:_.avatar,name:null===_||void 0===_?void 0:_.name,size:40,outline:!0,status:!0,userId:null===_||void 0===_?void 0:_.id})}),(0,u.jsxs)(c.DropDown,{selector:"#avatar",placement:"top",children:[[{label:"Profile",icon:"bx-user-circle",to:"profile"},{label:"Settings",icon:"bx-cog",to:"settings"},{label:"Change Password",icon:"bx-lock-open",to:"/change-password"}].map((function(e,t){var n=e.label,a=e.icon,r=e.to;return(0,u.jsx)(o.OL,{to:r,children:(0,u.jsxs)(c.DropDownItem,{className:"dropdown-option",children:[(0,u.jsx)("span",{children:n}),(0,u.jsx)("i",{className:a})]})},t)})),(0,u.jsxs)(c.DropDownItem,{onClick:v,className:"dropdown-option",children:[(0,u.jsx)("span",{children:"Logout"}),(0,u.jsx)("i",{className:"bx-log-out-circle"})]})]}),(0,u.jsx)("div",{ref:f,className:l.default.tab_indicator})]})]})};t.default=d},1752:function(e,t,n){n.r(t);var a=n(885),r=n(2791),s=n(9563),o=n(9604),i=n(7352),c=(n(9930),n(4717)),l=n(2703),u=n(6871),d=n(4411),p=n(184),f=["like","love","haha","wow","sad","angry","care"];t.default=function(){var e=(0,c.useAuth)(),t=e.chatId,n=e.isLoading,m=(0,l.localStorage)(),h=(0,r.useState)(),v=(0,a.Z)(h,2),_=v[0],x=v[1];(0,r.useLayoutEffect)((function(){var e,t=null!==(e=m.get("theme"))&&void 0!==e?e:"light";document.querySelector(":root").setAttribute("theme",t),x(t)}),[]);return(0,p.jsxs)(r.Fragment,{children:[(0,p.jsx)(s.SideBar,{className:(0,l.classNames)(t&&d.default.hide),theme:_,toggleTheme:function(e){return function(){document.querySelector(":root").setAttribute("theme",e),m.set("theme",e),x(e)}}}),(0,p.jsxs)("div",{className:d.default.app_layout,children:[(0,p.jsx)("div",{className:d.default.pages_container,children:(0,p.jsx)(u.j3,{})}),!n&&(0,p.jsx)(r.Fragment,{children:t?(0,p.jsx)(i.Chat,{reactions:f}):(0,p.jsx)(o.EmptyChat,{})})]})]})}},2449:function(e,t,n){n.r(t),n.d(t,{getCallHistory:function(){return s},initiateCall:function(){return o}});var a=n(9599),r=n(77),s=function(){return(0,a.axios)({url:r.endpoints.call.history,method:"get"})},o=function(e,t){return(0,a.axios)({url:"".concat(r.endpoints.call.initiate,"/").concat(e),method:"post",data:t})}},9855:function(e,t,n){n.r(t),n.d(t,{addToFavourite:function(){return c},createReaction:function(){return p},getChatById:function(){return o},getChatByType:function(){return s},getChatMessagesByMsgId:function(){return i},markAsRead:function(){return d},markAsReadByMsgId:function(){return u},removeFromFavourite:function(){return l},updateReaction:function(){return f}});var a=n(9599),r=n(77),s=function(e){return(0,a.axios)({url:"".concat(r.endpoints.chat.list,"/").concat(e),method:"get"})},o=function(e,t){return(0,a.axios)({url:"".concat(r.endpoints.chat.chatDetails,"/").concat(e),method:"get",params:t})},i=function(e,t,n){return(0,a.axios)({url:"".concat(r.endpoints.chat.chatMessages,"/").concat(e,"/").concat(t),method:"get",params:n})},c=function(e){return(0,a.axios)({url:r.endpoints.chat.addFavourite,method:"put"})},l=function(e){return(0,a.axios)({url:r.endpoints.chat.removeFavourite,method:"delete"})},u=function(e,t){return(0,a.axios)({url:"".concat(r.endpoints.chat.markAsReadByMsgId,"/").concat(e,"/").concat(t),method:"put"})},d=function(e){return(0,a.axios)({url:"".concat(r.endpoints.chat.markAsRead,"/").concat(e),method:"put"})},p=function(e){return(0,a.axios)({url:"".concat(r.endpoints.chat.createReaction),method:"post",data:e})},f=function(e){return(0,a.axios)({url:"".concat(r.endpoints.chat.updateReaction),method:"put",data:e})}},3537:function(e,t,n){n.r(t),n.d(t,{createMessage:function(){return s}});var a=n(9599),r=n(77),s=function(e,t){return(0,a.axios)({url:"".concat(r.endpoints.message.createMessage,"/").concat(e),method:"post",data:t})}},3487:function(e,t,n){n.r(t),n.d(t,{fileUpload:function(){return c},metaData:function(){return i}});var a=n(4165),r=n(5861),s=n(9599),o=n(77),i=(n(9930),function(e){var t;return(0,s.axios)({url:null===(t=o.endpoints.others)||void 0===t?void 0:t.metaData,method:"post",data:e})}),c=function(){var e=(0,r.Z)((0,a.Z)().mark((function e(t){var n;return(0,a.Z)().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.abrupt("return",(0,s.axios)({url:null===(n=o.endpoints.others)||void 0===n?void 0:n.fileUpload,method:"post",data:t}));case 1:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}()},9599:function(e,t,n){n.r(t),n.d(t,{axios:function(){return i}});var a=n(4569),r=n.n(a),s=n(2703),o=n(77),i=r().create({baseURL:o.baseURL});i.interceptors.request.use((function(e){var t=(0,s.cookies)().get("authToken");return t&&(e.headers.Authorization=t),e}),(function(e){return Promise.reject(e)})),i.interceptors.response.use((function(e){return e}),(function(e){var t;return 401===e.response.status&&document.dispatchEvent(new CustomEvent("logout")),Promise.reject(null===e||void 0===e||null===(t=e.response)||void 0===t?void 0:t.data)}))},4411:function(e,t,n){n.r(t),t.default={app_layout:"AppLayout_app_layout__4MY6X",pages_container:"AppLayout_pages_container__NUOnl",empty_chat:"AppLayout_empty_chat__n2twR",hide:"AppLayout_hide__CjBs-"}},9961:function(e,t,n){n.r(t),t.default={chat_wrapper:"Chat_chat_wrapper__gid5u",chat_section:"Chat_chat_section__3JB1Y",chat_skeleton:"Chat_chat_skeleton__6w6um",reply_enter:"Chat_reply_enter__QdcSq","from-bottom":"Chat_from-bottom__yjlc1",reply_exit:"Chat_reply_exit__CEbB5",reply_container:"Chat_reply_container__Hj6fN",reply_card:"Chat_reply_card__6LYq6",close:"Chat_close__2-iqb",profile_sidebar:"Chat_profile_sidebar__DYbvp",typing:"Chat_typing__kJgMt","zoom-in":"Chat_zoom-in__p3vEB"}},8527:function(e,t,n){n.r(t),t.default={container:"Conversation_container__I7CJi",chat_wrapper:"Conversation_chat_wrapper__S3O8R",end:"Conversation_end__ZMbi5",chat_card:"Conversation_chat_card__jz70L",reply_card:"Conversation_reply_card__AEy90",msg_time:"Conversation_msg_time__wN53F",tick:"Conversation_tick__RkyEe",reactions:"Conversation_reactions__faDG2",user_name:"Conversation_user_name__RDhDd",clock:"Conversation_clock__y4n8i",options:"Conversation_options__WLSBI",date:"Conversation_date__ZfQTB",unread_msg:"Conversation_unread_msg__yFItk",section:"Conversation_section__wG88I",load:"Conversation_load__rqCbg"}},8263:function(e,t,n){n.r(t),t.default={container:"Reaction_container__yXj24",wrapper:"Reaction_wrapper__m5dkH"}},9041:function(e,t,n){n.r(t),t.default={chat_header:"Header_chat_header__QpmQQ",user_info:"Header_user_info__iEHZa",go_back:"Header_go_back__lCP4K",user_name:"Header_user_name__Trw38",chat_icons:"Header_chat_icons__JOz6D",show:"Header_show__F368n"}},67:function(e,t,n){n.r(t),t.default={loader:"Loader_loader__gQpe+",rotation:"Loader_rotation__Q-TX-"}},22:function(e,t,n){n.r(t),t.default={container:"PageLoader_container__WEvcy",card:"PageLoader_card__Fmr-Q",end:"PageLoader_end__ahXWd",line:"PageLoader_line__y70Cl"}},3693:function(e,t,n){n.r(t),t.default={popup:"ReactionPopup_popup__yt4AZ",reactions:"ReactionPopup_reactions__3HDB6",all:"ReactionPopup_all__nfaPI",card:"ReactionPopup_card__P+lgl",users:"ReactionPopup_users__81RJu"}},4302:function(e,t,n){n.r(t),t.default={popup:"SeenPopup_popup__d-7Be",reactions:"SeenPopup_reactions__DkyZZ",all:"SeenPopup_all__2FlpU",users:"SeenPopup_users__Ehebn",card:"SeenPopup_card__irnNc"}},517:function(e,t,n){n.r(t),t.default={emoji_enter:"Emoji_emoji_enter__hm4pK",emoji_container:"Emoji_emoji_container__FeFYJ",emoji_wrapper:"Emoji_emoji_wrapper__Mni-7","emoji-anime":"Emoji_emoji-anime__vboWK",emoji_exit:"Emoji_emoji_exit__yUFuv",emoji_header:"Emoji_emoji_header__HJTsc",emoji_type:"Emoji_emoji_type__Hmz-D",close:"Emoji_close__Tlf+A",search_emoji:"Emoji_search_emoji__QHZYs",search_icon:"Emoji_search_icon__EVS9p",emoji_card:"Emoji_emoji_card__cVAbK",emoji_title:"Emoji_emoji_title__uaqYB",emoji_list:"Emoji_emoji_list__zUunG",emoji_icon:"Emoji_emoji_icon__QGww2"}},8731:function(e,t,n){n.r(t),t.default={chat_input:"TextArea_chat_input__+dl6x",input_field:"TextArea_input_field__++nq-"}},2786:function(e,t,n){n.r(t),t.default={video_container:"VideoPopup_video_container__EcnPE",remote:"VideoPopup_remote__x1HvW",local:"VideoPopup_local__xIYkj"}},7730:function(e,t,n){n.r(t),t.default={empty_chat:"EmptyChat_empty_chat__akg3l"}},4498:function(e,t,n){n.r(t),t.default={sidebar:"SideBar_sidebar__0nIPq",logo:"SideBar_logo__sX0Lu",nav_wrapper:"SideBar_nav_wrapper__n4wWR",nav_item:"SideBar_nav_item__0Lxi5",active:"SideBar_active__3jQdi",theme:"SideBar_theme__Ci0nU",nav_icon:"SideBar_nav_icon__WkDU2",tab_indicator:"SideBar_tab_indicator__dSGyQ",profile:"SideBar_profile__rqxDK"}},101:function(e,t,n){e.exports=n.p+"static/media/fade-in-tone.4355e6fe3e157d8945f6.mp3"},4329:function(e,t,n){e.exports=n.p+"static/media/favicon.6072f0ecd8b7685691ff.ico"}}]);
//# sourceMappingURL=1752.2df4c037.chunk.js.map