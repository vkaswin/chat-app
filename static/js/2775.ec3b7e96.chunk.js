"use strict";(self.webpackChunkreact_chat_app=self.webpackChunkreact_chat_app||[]).push([[2775,8527,714,2611,8263,5665,3693,3201,4302],{714:function(e,n,s){s.r(n),s.d(n,{Options:function(){return r}});s(2791);var a=s(9930),t=s(184),r=function(e){var n=e.onReply,s=e.onDelete,r=e.onCopy,o=e.selector,i=e.date,c=e.msgId,l=e.msg;return(0,t.jsxs)(a.DropDown,{selector:o,placement:"bottom",children:[(0,t.jsxs)(a.DropDownItem,{className:"dropdown-option",onClick:function(){return n(i,c)},children:[(0,t.jsx)("span",{children:"Reply"}),(0,t.jsx)("i",{className:"bx-share"})]}),(0,t.jsxs)(a.DropDownItem,{className:"dropdown-option",children:[(0,t.jsx)("span",{children:"Forward"}),(0,t.jsx)("i",{className:"bx-share-alt"})]}),(0,t.jsxs)(a.DropDownItem,{className:"dropdown-option",onClick:function(){return r(l)},children:[(0,t.jsx)("span",{children:"Copy"}),(0,t.jsx)("i",{className:"bx-copy"})]}),(0,t.jsxs)(a.DropDownItem,{className:"dropdown-option",children:[(0,t.jsx)("span",{children:"Mark as Unread"}),(0,t.jsx)("i",{className:"bx-message-error"})]}),(0,t.jsxs)(a.DropDownItem,{className:"dropdown-option",onClick:function(){return s(i,c)},children:[(0,t.jsx)("span",{children:"Delete"}),(0,t.jsx)("i",{className:"bx-trash"})]})]})}},2611:function(e,n,s){s.r(n),s.d(n,{Reaction:function(){return i}});s(2791);var a=s(9930),t=s(2703),r=s(8263),o=s(184),i=function(e){var n=e.reactions,s=e.selector,i=e.onClick;return(0,o.jsx)(a.DropDown,{selector:s,className:r.default.container,placement:"bottom",children:n.map((function(e,n){return(0,o.jsx)(a.DropDownItem,{className:r.default.wrapper,onClick:function(){return i(e)},children:(0,o.jsx)("img",{id:e,src:(0,t.getReactionUrl)(e)})},n)}))})}},2775:function(e,n,s){s.r(n),s.d(n,{Conversation:function(){return h}});var a=s(4942),t=s(1413),r=s(885),o=s(2791),i=s(2703),c=s(2611),l=s(714),d=s(2426),u=s.n(d),p=s(8527),m=s(5665),_=s(3201),f=s(184),h=function(e){var n=e.chats,s=e.onDelete,d=e.onCopy,h=e.onReply,x=e.userId,j=e.focusMsgById,v=e.otherUserId,g=e.unReadMsg,N=e.isGroupChat,C=e.reactionList,y=e.handleReaction,k=e.findMsgByMsgId,w=(0,o.useState)({}),D=(0,r.Z)(w,2),R=D[0],I=D[1],Z=(0,o.useState)({reaction:!1,seen:!1}),b=(0,r.Z)(Z,2),M=b[0],P=b[1],S=function(e){var n=e.msgId,s=e.type;if(M[s])return P((0,t.Z)((0,t.Z)({},M),{},(0,a.Z)({},s,!1)));var r=k(n);r&&(I(r),P((0,t.Z)((0,t.Z)({},M),{},(0,a.Z)({},s,!0))))};return(0,f.jsxs)(o.Fragment,{children:[n.map((function(e,r){var m=e.day,_=e.messages;return(0,f.jsxs)(o.Fragment,{children:[(0,f.jsx)("div",{className:p.default.date,children:(0,f.jsx)("span",{children:u()(m).format("D MMMM YYYY")})}),(0,f.jsx)("div",{className:p.default.container,children:_.map((function(e,m){var k=e.msg,w=e.date,D=e.sender,R=(D=void 0===D?{}:D).id,I=void 0===R?null:R,Z=D.name,b=void 0===Z?null:Z,M=D.avatar,P=void 0===M?null:M,O=e._id,A=e.seen,F=e.reply,U=void 0===F?null:F,B=e.reactions,Y=e.totalReactions;return(0,f.jsxs)(o.Fragment,{children:[g.id&&g.id===O&&(0,f.jsx)("div",{className:p.default.unread_msg,children:(0,f.jsxs)("span",{children:[g.total," Unread Message",g.total>1&&"s"]})}),(0,f.jsxs)("div",(0,t.Z)((0,t.Z)((0,t.Z)({className:(0,i.classNames)(p.default.chat_wrapper,(0,a.Z)({},p.default.end,x===I)),msgid:O},0===r&&0===m&&{first:""}),r===n.length-1&&m===_.length-1&&{last:""}),{},{children:[(0,f.jsxs)("div",{children:[(0,f.jsxs)("div",(0,t.Z)((0,t.Z)({className:p.default.chat_card},x!==I&&{id:"reaction-".concat(O)}),{},{children:[U&&(0,f.jsx)("div",{className:p.default.reply_card,onClick:function(){return j(U._id,"smooth")},children:(0,f.jsx)("span",{children:U.msg})}),(0,f.jsxs)("div",{children:[N&&I!==x&&(0,f.jsx)("span",{style:{color:P},className:p.default.user_name,children:b.split(" ")[0]}),(0,f.jsx)("span",{children:k})]}),(0,f.jsxs)("div",{className:p.default.msg_time,children:[(0,f.jsx)("i",{className:"bx-time ".concat(p.default.clock)}),(0,f.jsx)("span",{children:u()(new Date(w)).format("h:mm a")}),(0,f.jsx)("i",{className:"bx bx-check-double ".concat(p.default.tick),seen:Array.isArray(v)?(A.length===v.length).toString():A.some((function(e){return e===v})).toString(),onClick:function(e){e.stopPropagation(),console.log("seen"),S({msgId:O,type:"seen"})}})]})]})),(0,f.jsx)("div",{className:p.default.options,children:(0,f.jsx)("i",{className:"bx-dots-vertical-rounded",id:"option-".concat(O)})})]}),Y>0&&(0,f.jsxs)("div",{className:p.default.reactions,onClick:function(){return S({msgId:O,type:"reaction"})},children:[B.map((function(e,n){var s=e.reaction;return(0,f.jsx)("img",{src:(0,i.getReactionUrl)(s)},n)})),(0,f.jsx)("span",{children:Y})]})]})),(0,f.jsx)(l.Options,{selector:"#option-".concat(O),onCopy:d,onReply:h,onDelete:s,date:w,msgId:O,msg:k}),(0,f.jsx)(c.Reaction,{selector:"#reaction-".concat(O),reactions:C,onClick:function(e){return y(e,B,O)}})]},O)}))})]},r)})),(0,f.jsx)(m.default,{isOpen:M.reaction,message:R,toggle:function(){return S({type:"reaction"})}}),(0,f.jsx)(_.default,{isOpen:M.seen,message:R,toggle:function(){return S({type:"seen"})}})]})}},5665:function(e,n,s){s.r(n);var a=s(885),t=s(2791),r=s(9930),o=s(2703),i=s(3693),c=s(184);n.default=function(e){var n,s=e.isOpen,l=e.toggle,d=e.message,u=(0,t.useState)(),p=(0,a.Z)(u,2),m=p[0],_=p[1],f=(0,t.useMemo)((function(){return d.hasOwnProperty("reactions")?0===m||m?d.reactions[m].users:d.reactions.reduce((function(e,n){var s=n.users;return e.concat(s)}),[]):[]}),[m,d]);return(0,c.jsx)(r.Modal,{isOpen:s,toggle:l,children:(0,c.jsxs)("div",{className:i.default.popup,children:[(0,c.jsxs)("div",{className:i.default.reactions,children:[(0,c.jsx)("div",{className:i.default.all,onClick:function(){return _()},children:(0,c.jsx)("span",{children:"All"})}),null===d||void 0===d||null===(n=d.reactions)||void 0===n?void 0:n.map((function(e,n){var s=e.reaction,a=e.total;return(0,c.jsxs)("div",{className:i.default.card,onClick:function(){return _(n)},children:[(0,c.jsx)("img",{src:(0,o.getReactionUrl)(s)}),(0,c.jsx)("span",{children:a})]},n)}))]}),(0,c.jsx)("div",{className:i.default.users,children:f.map((function(e,n){var s=e.avatar,a=(e.email,e.id),t=e.name,o=e.status;return(0,c.jsxs)("div",{className:i.default.card,children:[(0,c.jsx)(r.Avatar,{name:t,size:40,status:o,userId:a,src:s}),(0,c.jsx)("span",{children:t})]},n)}))})]})})}},3201:function(e,n,s){s.r(n);var a=s(2791),t=s(9930),r=s(4302),o=s(184);n.default=function(e){var n=e.isOpen,s=e.toggle,i=e.message,c=(0,a.useMemo)((function(){return i.hasOwnProperty("seen")?i.seen:[]}),[i]);return(0,o.jsx)(t.Modal,{isOpen:n,toggle:s,children:(0,o.jsxs)("div",{className:r.default.popup,children:[(0,o.jsx)("div",{className:r.default.reactions,children:(0,o.jsx)("div",{className:r.default.all,children:(0,o.jsx)("span",{children:"Seen"})})}),(0,o.jsx)("div",{className:r.default.users,children:c.map((function(e,n){var s=e.avatar,a=(e.email,e.id),i=e.name,c=e.status;return(0,o.jsxs)("div",{className:r.default.card,children:[(0,o.jsx)(t.Avatar,{name:i,size:40,status:c,userId:a,src:s}),(0,o.jsx)("span",{children:i})]},n)}))})]})})}},8527:function(e,n,s){s.r(n),n.default={container:"Conversation_container__I7CJi",chat_wrapper:"Conversation_chat_wrapper__S3O8R",end:"Conversation_end__ZMbi5",chat_card:"Conversation_chat_card__jz70L",reply_card:"Conversation_reply_card__AEy90",msg_time:"Conversation_msg_time__wN53F",tick:"Conversation_tick__RkyEe",reactions:"Conversation_reactions__faDG2",user_name:"Conversation_user_name__RDhDd",clock:"Conversation_clock__y4n8i",options:"Conversation_options__WLSBI",date:"Conversation_date__ZfQTB",unread_msg:"Conversation_unread_msg__yFItk",section:"Conversation_section__wG88I",load:"Conversation_load__rqCbg"}},8263:function(e,n,s){s.r(n),n.default={container:"Reaction_container__yXj24",wrapper:"Reaction_wrapper__m5dkH"}},3693:function(e,n,s){s.r(n),n.default={popup:"ReactionPopup_popup__yt4AZ",reactions:"ReactionPopup_reactions__3HDB6",all:"ReactionPopup_all__nfaPI",card:"ReactionPopup_card__P+lgl",users:"ReactionPopup_users__81RJu"}},4302:function(e,n,s){s.r(n),n.default={popup:"SeenPopup_popup__d-7Be",reactions:"SeenPopup_reactions__DkyZZ",all:"SeenPopup_all__2FlpU",users:"SeenPopup_users__Ehebn",card:"SeenPopup_card__irnNc"}}}]);
//# sourceMappingURL=2775.ec3b7e96.chunk.js.map