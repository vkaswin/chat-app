"use strict";(self.webpackChunkreact_chat_app=self.webpackChunkreact_chat_app||[]).push([[332,406],{44332:function(a,e,t){t.r(e);var s=t(74165),n=t(42982),l=t(15861),c=t(70885),r=t(72791),i=t(59930),u=t(14717),d=t(92449),o=t(2703),_=t(72426),p=t.n(_),f=t(68406),h=t(80184);e.default=function(){var a=(0,u.useAuth)().user,e=(0,r.useState)([]),t=(0,c.Z)(e,2),_=t[0],v=t[1],x=(0,r.useState)(!0),m=(0,c.Z)(x,2),j=m[0],N=m[1];(0,r.useEffect)((function(){y()}),[]);var y=function(){var a=(0,l.Z)((0,s.Z)().mark((function a(){var e,t;return(0,s.Z)().wrap((function(a){for(;;)switch(a.prev=a.next){case 0:return a.prev=0,a.next=3,(0,d.getCallHistory)();case 3:e=a.sent,t=e.data.data,v([].concat((0,n.Z)(_),(0,n.Z)(t))),a.next=11;break;case 8:a.prev=8,a.t0=a.catch(0),(0,i.Toast)({type:"error",message:null===a.t0||void 0===a.t0?void 0:a.t0.message});case 11:return a.prev=11,N(!1),a.finish(11);case 14:case"end":return a.stop()}}),a,null,[[0,8,11,14]])})));return function(){return a.apply(this,arguments)}}();return j?(0,h.jsx)("div",{children:"Loading..."}):(0,h.jsx)("div",{className:f.default.calls_container,children:_.length>0&&_.map((function(e,t){var s=e.date,n=e.type,l=e.user,c=l.name,r=l.status,u=l.avatar,d=e.initiatedBy,_=e.chatId;return(0,h.jsxs)("div",{className:f.default.call_card,onClick:function(){return(0,o.handleChat)(_)},children:[(0,h.jsxs)("div",{className:f.default.user,children:[(0,h.jsx)(i.Avatar,{src:u,name:c,size:40,status:r}),(0,h.jsxs)("div",{className:f.default.call_info,children:[(0,h.jsx)("span",{className:"truncate-1",children:c}),(0,h.jsxs)("div",{children:[d===(null===a||void 0===a?void 0:a.id)?(0,h.jsx)("i",{className:"bx-up-arrow-alt","data-type":"outgoing"}):(0,h.jsx)("i",{className:"bx-down-arrow-alt","data-type":"incoming"}),(0,h.jsx)("span",{className:"truncate-1",children:p()(s).format("D ddd YYYY, hh:mm a")})]})]})]}),(0,h.jsx)("div",{className:f.default.type_icon,children:"video"===n?(0,h.jsx)("i",{className:"bx-video"}):(0,h.jsx)("i",{className:"bx-phone-call"})})]},t)}))})}},68406:function(a,e,t){t.r(e),e.default={calls_container:"Calls_calls_container__julVl",call_card:"Calls_call_card__9L-+S",user:"Calls_user__pFFMG",call_info:"Calls_call_info__ohoQS",type_icon:"Calls_type_icon__xoqiZ"}}}]);
//# sourceMappingURL=332.29663629.chunk.js.map