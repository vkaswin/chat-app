{"version":3,"file":"static/js/332.29663629.chunk.js","mappings":"iRAmFA,UA1Ec,WACZ,IAAQA,GAASC,EAAAA,EAAAA,WAATD,KAER,GAAsCE,EAAAA,EAAAA,UAAS,IAA/C,eAAOC,EAAP,KAAoBC,EAApB,KAEA,GAA8BF,EAAAA,EAAAA,WAAS,GAAvC,eAAOG,EAAP,KAAgBC,EAAhB,MAEAC,EAAAA,EAAAA,YAAU,WACRC,GACD,GAAE,IAEH,IAAMA,EAAQ,yCAAG,qHAIHC,EAAAA,EAAAA,kBAJG,gBAGHC,EAHG,EAGXA,KAAQA,KAEVN,EAAe,GAAD,eAAKD,IAAL,OAAqBO,KALtB,iDAObC,EAAAA,EAAAA,OAAM,CAAEC,KAAM,QAASC,QAAO,OAAC,EAAD,yBAAE,KAAOA,UAP1B,yBASbP,GAAW,GATE,4EAAH,qDAad,OAAID,GAAgB,yCAGlB,gBAAKS,UAAWC,EAAAA,QAAAA,gBAAhB,SACGZ,EAAYa,OAAS,GACpBb,EAAYc,KACV,WAEEC,GACI,IAFFC,EAEC,EAFDA,KAAMP,EAEL,EAFKA,KAEL,IAFWZ,KAAQoB,EAEnB,EAFmBA,KAAMC,EAEzB,EAFyBA,OAAQC,EAEjC,EAFiCA,OAAUC,EAE3C,EAF2CA,YAAaC,EAExD,EAFwDA,OAG3D,OACE,iBAEEV,UAAWC,EAAAA,QAAAA,UACXU,QAAS,kBAAMC,EAAAA,EAAAA,YAAWF,EAAjB,EAHX,WAKE,iBAAKV,UAAWC,EAAAA,QAAAA,KAAhB,WACE,SAAC,EAAAY,OAAD,CAAQC,IAAKN,EAAQF,KAAMA,EAAMS,KAAM,GAAIR,OAAQA,KACnD,iBAAKP,UAAWC,EAAAA,QAAAA,UAAhB,WACE,iBAAMD,UAAU,aAAhB,SAA8BM,KAC9B,2BACGG,KAAW,OAAKvB,QAAL,IAAKA,OAAL,EAAKA,EAAM8B,KACrB,cAAGhB,UAAU,kBAAkB,YAAU,cAEzC,cACEA,UAAU,oBACV,YAAU,cAGd,iBAAMA,UAAU,aAAhB,SACGiB,IAAOZ,GAAMa,OAAO,mCAK7B,gBAAKlB,UAAWC,EAAAA,QAAAA,UAAhB,SACY,UAATH,GACC,cAAGE,UAAU,cAEb,cAAGA,UAAU,sBA3BZI,EAgCV,KAIV,C,+BChFD,WAAgB,gBAAkB,+BAA+B,UAAY,yBAAyB,KAAO,oBAAoB,UAAY,yBAAyB,UAAY,yB","sources":["pages/Calls/index.js","webpack://react-chat-app/./src/pages/Calls/Calls.module.scss?6954"],"sourcesContent":["import React, { useEffect, useState } from \"react\";\nimport { Avatar, Toast } from \"components\";\nimport { useAuth } from \"hooks\";\nimport { getCallHistory } from \"services/Call\";\nimport { handleChat } from \"utils\";\nimport moment from \"moment\";\n\nimport styles from \"./Calls.module.scss\";\n\nconst Calls = () => {\n  const { user } = useAuth();\n\n  const [callHistory, setCallHistory] = useState([]);\n\n  const [loading, setLoading] = useState(true);\n\n  useEffect(() => {\n    getCalls();\n  }, []);\n\n  const getCalls = async () => {\n    try {\n      let {\n        data: { data },\n      } = await getCallHistory();\n      setCallHistory([...callHistory, ...data]);\n    } catch (error) {\n      Toast({ type: \"error\", message: error?.message });\n    } finally {\n      setLoading(false);\n    }\n  };\n\n  if (loading) return <div>Loading...</div>;\n\n  return (\n    <div className={styles.calls_container}>\n      {callHistory.length > 0 &&\n        callHistory.map(\n          (\n            { date, type, user: { name, status, avatar }, initiatedBy, chatId },\n            index\n          ) => {\n            return (\n              <div\n                key={index}\n                className={styles.call_card}\n                onClick={() => handleChat(chatId)}\n              >\n                <div className={styles.user}>\n                  <Avatar src={avatar} name={name} size={40} status={status} />\n                  <div className={styles.call_info}>\n                    <span className=\"truncate-1\">{name}</span>\n                    <div>\n                      {initiatedBy === user?.id ? (\n                        <i className=\"bx-up-arrow-alt\" data-type=\"outgoing\"></i>\n                      ) : (\n                        <i\n                          className=\"bx-down-arrow-alt\"\n                          data-type=\"incoming\"\n                        ></i>\n                      )}\n                      <span className=\"truncate-1\">\n                        {moment(date).format(\"D ddd YYYY, hh:mm a\")}\n                      </span>\n                    </div>\n                  </div>\n                </div>\n                <div className={styles.type_icon}>\n                  {type === \"video\" ? (\n                    <i className=\"bx-video\"></i>\n                  ) : (\n                    <i className=\"bx-phone-call\"></i>\n                  )}\n                </div>\n              </div>\n            );\n          }\n        )}\n    </div>\n  );\n};\n\nexport default Calls;\n","// extracted by mini-css-extract-plugin\nexport default {\"calls_container\":\"Calls_calls_container__julVl\",\"call_card\":\"Calls_call_card__9L-+S\",\"user\":\"Calls_user__pFFMG\",\"call_info\":\"Calls_call_info__ohoQS\",\"type_icon\":\"Calls_type_icon__xoqiZ\"};"],"names":["user","useAuth","useState","callHistory","setCallHistory","loading","setLoading","useEffect","getCalls","getCallHistory","data","Toast","type","message","className","styles","length","map","index","date","name","status","avatar","initiatedBy","chatId","onClick","handleChat","Avatar","src","size","id","moment","format"],"sourceRoot":""}