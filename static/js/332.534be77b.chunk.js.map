{"version":3,"file":"static/js/332.534be77b.chunk.js","mappings":"iRA4FA,UAnFc,WACZ,IAAQA,GAASC,EAAAA,EAAAA,WAATD,KAER,GAAsCE,EAAAA,EAAAA,UAAS,IAA/C,eAAOC,EAAP,KAAoBC,EAApB,KAEA,GAA8BF,EAAAA,EAAAA,WAAS,GAAvC,eAAOG,EAAP,KAAgBC,EAAhB,MAEAC,EAAAA,EAAAA,YAAU,WACRC,GACD,GAAE,IAEH,IAAMA,EAAQ,yCAAG,qHAIHC,EAAAA,EAAAA,kBAJG,gBAGHC,EAHG,EAGXA,KAAQA,KAEVN,EAAe,GAAD,eAAKD,IAAL,OAAqBO,KALtB,iDAObC,EAAAA,EAAAA,OAAM,CAAEC,KAAM,QAASC,QAAO,OAAC,EAAD,yBAAE,KAAOA,UAP1B,yBASbP,GAAW,GATE,4EAAH,qDAad,OAAID,GAAgB,yCAGlB,gBAAKS,UAAWC,EAAAA,QAAAA,gBAAhB,SACGZ,EAAYa,OAAS,GACpBb,EAAYc,KACV,WAQEC,GACI,IAPFC,EAOC,EAPDA,KACAP,EAMC,EANDA,KAMC,IALDZ,KAAQoB,EAKP,EALOA,KAAMC,EAKb,EALaA,OAAQC,EAKrB,EALqBA,OAAQC,EAK7B,EAL6BA,IAC9BC,EAIC,EAJDA,YACAC,EAGC,EAHDA,OAIF,OACE,iBAEEX,UAAWC,EAAAA,QAAAA,UACXW,QAAS,kBAAMC,EAAAA,EAAAA,YAAWF,EAAjB,EAHX,WAKE,iBAAKX,UAAWC,EAAAA,QAAAA,KAAhB,WACE,SAAC,EAAAa,OAAD,CACEC,IAAKP,EACLF,KAAMA,EACNU,KAAM,GACNT,OAAQA,EACRU,OAAQR,KAEV,iBAAKT,UAAWC,EAAAA,QAAAA,UAAhB,WACE,iBAAMD,UAAU,aAAhB,SAA8BM,KAC9B,2BACGI,KAAW,OAAKxB,QAAL,IAAKA,OAAL,EAAKA,EAAMgC,KACrB,cAAGlB,UAAU,kBAAkBF,KAAK,cAEpC,cAAGE,UAAU,oBAAoBF,KAAK,cAExC,iBAAME,UAAU,aAAhB,SACGmB,IAAOd,GAAMe,OAAO,mCAK7B,gBAAKpB,UAAWC,EAAAA,QAAAA,UAAhB,SACY,UAATH,GACC,cAAGE,UAAU,cAEb,cAAGA,UAAU,sBA9BZI,EAmCV,KAIV,C,+BCzFD,WAAgB,gBAAkB,+BAA+B,UAAY,yBAAyB,KAAO,oBAAoB,UAAY,yBAAyB,UAAY,yB","sources":["pages/Calls/index.js","webpack://react-chat-app/./src/pages/Calls/Calls.module.scss?6954"],"sourcesContent":["import React, { useEffect, useState } from \"react\";\nimport { Avatar, Toast } from \"components\";\nimport { useAuth } from \"hooks\";\nimport { getCallHistory } from \"services/Call\";\nimport { handleChat } from \"utils\";\nimport moment from \"moment\";\n\nimport styles from \"./Calls.module.scss\";\n\nconst Calls = () => {\n  const { user } = useAuth();\n\n  const [callHistory, setCallHistory] = useState([]);\n\n  const [loading, setLoading] = useState(true);\n\n  useEffect(() => {\n    getCalls();\n  }, []);\n\n  const getCalls = async () => {\n    try {\n      let {\n        data: { data },\n      } = await getCallHistory();\n      setCallHistory([...callHistory, ...data]);\n    } catch (error) {\n      Toast({ type: \"error\", message: error?.message });\n    } finally {\n      setLoading(false);\n    }\n  };\n\n  if (loading) return <div>Loading...</div>;\n\n  return (\n    <div className={styles.calls_container}>\n      {callHistory.length > 0 &&\n        callHistory.map(\n          (\n            {\n              date,\n              type,\n              user: { name, status, avatar, _id },\n              initiatedBy,\n              chatId,\n            },\n            index\n          ) => {\n            return (\n              <div\n                key={index}\n                className={styles.call_card}\n                onClick={() => handleChat(chatId)}\n              >\n                <div className={styles.user}>\n                  <Avatar\n                    src={avatar}\n                    name={name}\n                    size={40}\n                    status={status}\n                    userId={_id}\n                  />\n                  <div className={styles.call_info}>\n                    <span className=\"truncate-1\">{name}</span>\n                    <div>\n                      {initiatedBy === user?.id ? (\n                        <i className=\"bx-up-arrow-alt\" type=\"outgoing\"></i>\n                      ) : (\n                        <i className=\"bx-down-arrow-alt\" type=\"incoming\"></i>\n                      )}\n                      <span className=\"truncate-1\">\n                        {moment(date).format(\"D ddd YYYY, hh:mm a\")}\n                      </span>\n                    </div>\n                  </div>\n                </div>\n                <div className={styles.type_icon}>\n                  {type === \"video\" ? (\n                    <i className=\"bx-video\"></i>\n                  ) : (\n                    <i className=\"bx-phone-call\"></i>\n                  )}\n                </div>\n              </div>\n            );\n          }\n        )}\n    </div>\n  );\n};\n\nexport default Calls;\n","// extracted by mini-css-extract-plugin\nexport default {\"calls_container\":\"Calls_calls_container__julVl\",\"call_card\":\"Calls_call_card__9L-+S\",\"user\":\"Calls_user__pFFMG\",\"call_info\":\"Calls_call_info__ohoQS\",\"type_icon\":\"Calls_type_icon__xoqiZ\"};"],"names":["user","useAuth","useState","callHistory","setCallHistory","loading","setLoading","useEffect","getCalls","getCallHistory","data","Toast","type","message","className","styles","length","map","index","date","name","status","avatar","_id","initiatedBy","chatId","onClick","handleChat","Avatar","src","size","userId","id","moment","format"],"sourceRoot":""}