"use strict";(self.webpackChunkreact_chat_app=self.webpackChunkreact_chat_app||[]).push([[332,406],{4332:function(a,e,s){s.r(e);var t=s(4165),n=s(2982),l=s(5861),c=s(885),r=s(2791),i=s(9930),u=s(4717),d=s(2449),o=s(2703),_=s(2426),p=s.n(_),f=s(8406),h=s(184);e.default=function(){var a=(0,u.useAuth)().user,e=(0,r.useState)([]),s=(0,c.Z)(e,2),_=s[0],v=s[1],x=(0,r.useState)(!0),m=(0,c.Z)(x,2),j=m[0],N=m[1];(0,r.useEffect)((function(){y()}),[]);var y=function(){var a=(0,l.Z)((0,t.Z)().mark((function a(){var e,s;return(0,t.Z)().wrap((function(a){for(;;)switch(a.prev=a.next){case 0:return a.prev=0,a.next=3,(0,d.getCallHistory)();case 3:e=a.sent,s=e.data.data,v([].concat((0,n.Z)(_),(0,n.Z)(s))),a.next=11;break;case 8:a.prev=8,a.t0=a.catch(0),(0,i.Toast)({type:"error",message:null===a.t0||void 0===a.t0?void 0:a.t0.message});case 11:return a.prev=11,N(!1),a.finish(11);case 14:case"end":return a.stop()}}),a,null,[[0,8,11,14]])})));return function(){return a.apply(this,arguments)}}();return j?(0,h.jsx)("div",{children:"Loading..."}):(0,h.jsx)("div",{className:f.default.calls_container,children:_.length>0&&_.map((function(e,s){var t=e.date,n=e.type,l=e.name,c=e.status,r=e.avatar,u=e.userId,d=e.initiatedBy,_=e.chatId;return(0,h.jsxs)("div",{className:f.default.call_card,onClick:function(){return(0,o.handleChat)(_)},children:[(0,h.jsxs)("div",{className:f.default.user,children:[(0,h.jsx)(i.Avatar,{src:r,name:l,size:40,status:c,userId:u}),(0,h.jsxs)("div",{className:f.default.call_info,children:[(0,h.jsx)("span",{className:"truncate-1",children:l}),(0,h.jsxs)("div",{children:[d===(null===a||void 0===a?void 0:a.id)?(0,h.jsx)("i",{className:"bx-up-arrow-alt",type:"outgoing"}):(0,h.jsx)("i",{className:"bx-down-arrow-alt",type:"incoming"}),(0,h.jsx)("span",{className:"truncate-1",children:p()(t).format("D ddd YYYY, hh:mm a")})]})]})]}),(0,h.jsx)("div",{className:f.default.type_icon,children:"video"===n?(0,h.jsx)("i",{className:"bx-video"}):(0,h.jsx)("i",{className:"bx-phone-call"})})]},s)}))})}},8406:function(a,e,s){s.r(e),e.default={calls_container:"Calls_calls_container__julVl",call_card:"Calls_call_card__9L-+S",user:"Calls_user__pFFMG",call_info:"Calls_call_info__ohoQS",type_icon:"Calls_type_icon__xoqiZ"}}}]);
//# sourceMappingURL=332.a179fb07.chunk.js.map