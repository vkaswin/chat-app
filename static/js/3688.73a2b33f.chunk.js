"use strict";(self.webpackChunkchat_app=self.webpackChunkchat_app||[]).push([[3688,1831,3265,5790,9599,9855,5343,4898],{1831:function(t,n,e){e.r(n);var r=e(2791),a=e(9930),c=e(2703),o=e(3265),s=e(184);n.default=function(t){var n=t.name,e=t.avatar,u=t.status,i=t.userId,d=t.chatId,l=t._id,h=t.colorCode,f=t.handleClick;return(0,s.jsxs)(r.Fragment,{children:[(0,s.jsxs)("div",{className:(0,c.classNames)(o.default.contact_card),children:[(0,s.jsxs)("div",{className:o.default.user,onClick:function(){return f(d,l)},children:[(0,s.jsx)(a.Avatar,{src:e||h,name:n,size:35,status:u,userId:i}),(0,s.jsx)("span",{children:n})]}),(0,s.jsx)("i",{className:"bx-dots-vertical-rounded",id:"contact-".concat(l)})]}),(0,s.jsxs)(a.DropDown,{placement:"bottom",selector:"#contact-".concat(l),children:[(0,s.jsxs)(a.DropDownItem,{className:"dropdown-option",children:[(0,s.jsx)("span",{children:"Block"}),(0,s.jsx)("i",{className:"bx-block"})]}),(0,s.jsxs)(a.DropDownItem,{className:"dropdown-option",children:[(0,s.jsx)("span",{children:"Remove"}),(0,s.jsx)("i",{className:"bx-trash"})]})]})]})}},3688:function(t,n,e){e.r(n);var r=e(1413),a=e(4165),c=e(5861),o=e(885),s=e(2791),u=e(9930),i=e(4717),d=e(5343),l=e(4898),h=e(9855),f=e(1831),p=e(5790),m=e(184);n.default=function(){var t=(0,i.useAuth)().handleChat,n=(0,s.useState)([]),e=(0,o.Z)(n,2),v=e[0],x=e[1],g=(0,s.useState)([]),C=(0,o.Z)(g,2),j=C[0],k=C[1],_=(0,s.useState)(""),w=(0,o.Z)(_,2),Z=w[0],b=w[1];(0,s.useEffect)((function(){y()}),[]),(0,s.useEffect)((function(){0!==Z.length&&I(1)}),[Z]);var y=function(){var t=(0,c.Z)((0,a.Z)().mark((function t(){var n,e;return(0,a.Z)().wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return t.prev=0,t.next=3,(0,d.getContacts)();case 3:n=t.sent,e=n.data.data,x(e),t.next=11;break;case 8:t.prev=8,t.t0=t.catch(0),(0,u.Toast)({type:"error",message:null===t.t0||void 0===t.t0?void 0:t.t0.message});case 11:case"end":return t.stop()}}),t,null,[[0,8]])})));return function(){return t.apply(this,arguments)}}(),I=function(){var t=(0,c.Z)((0,a.Z)().mark((function t(n){var e,r,c;return(0,a.Z)().wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return e={page:n,limit:25,search:Z},t.prev=1,t.next=4,(0,l.searchUsers)(e);case 4:r=t.sent,c=r.data.data,k(c),t.next=12;break;case 9:t.prev=9,t.t0=t.catch(1),(0,u.Toast)({type:"error",message:null===t.t0||void 0===t.t0?void 0:t.t0.message});case 12:case"end":return t.stop()}}),t,null,[[1,9]])})));return function(n){return t.apply(this,arguments)}}(),R=function(){var t=(0,c.Z)((0,a.Z)().mark((function t(n){var e;return(0,a.Z)().wrap((function(t){for(;;)switch(t.prev=t.next){case 0:0===(e=n.target.value).length?b(""):b(e);case 2:case"end":return t.stop()}}),t)})));return function(n){return t.apply(this,arguments)}}(),B=function(){var n=(0,c.Z)((0,a.Z)().mark((function n(e,r){var c,o;return(0,a.Z)().wrap((function(n){for(;;)switch(n.prev=n.next){case 0:if(!e){n.next=2;break}return n.abrupt("return",t(e));case 2:return n.prev=2,n.next=5,(0,h.getChatId)(r);case 5:c=n.sent,o=c.data.data,t(o),n.next=14;break;case 10:n.prev=10,n.t0=n.catch(2),console.log(n.t0),(0,u.Toast)({type:"error",message:null===n.t0||void 0===n.t0?void 0:n.t0.message});case 14:case"end":return n.stop()}}),n,null,[[2,10]])})));return function(t,e){return n.apply(this,arguments)}}();return(0,m.jsxs)("div",{className:p.default.contacts_list,children:[(0,m.jsx)(u.SearchBox,{title:"Contacts",placeholder:"Search Contacts...",onChange:R}),0===Z.length?(0,m.jsx)(s.Fragment,{children:null===v||void 0===v?void 0:v.map((function(t,n){var e=t.word,a=t.users;return a.length>0&&(0,m.jsxs)(s.Fragment,{children:[(0,m.jsx)("div",{className:p.default.title,children:(0,m.jsx)("b",{children:e})}),a.map((function(t,n){return(0,m.jsx)(f.default,(0,r.Z)({handleClick:B},t),n)}))]},n)}))}):(0,m.jsx)(s.Fragment,{children:j.map((function(t,n){return(0,m.jsx)(f.default,(0,r.Z)({handleClick:B},t),n)}))})]})}},9855:function(t,n,e){e.r(n),e.d(n,{addToFavourite:function(){return u},getChatById:function(){return o},getChatByType:function(){return c},getChatId:function(){return f},getChatMessageByRange:function(){return p},getChatMessagesByMsgId:function(){return s},markAsRead:function(){return l},markAsReadByMsgId:function(){return d},removeFromFavourite:function(){return i},sendReaction:function(){return h}});var r=e(9599),a=e(77),c=function(t){return(0,r.axios)({url:"".concat(a.endpoints.chat.list,"/").concat(t),method:"get"})},o=function(t,n){return(0,r.axios)({url:"".concat(a.endpoints.chat.chatDetails,"/").concat(t),method:"get",params:n})},s=function(t,n,e){return(0,r.axios)({url:"".concat(a.endpoints.chat.chatMessages,"/").concat(t,"/").concat(n),method:"get",params:e})},u=function(t){return(0,r.axios)({url:"".concat(a.endpoints.chat.addFavourite,"/").concat(t),method:"put"})},i=function(t){return(0,r.axios)({url:"".concat(a.endpoints.chat.removeFavourite,"/").concat(t),method:"delete"})},d=function(t,n){return(0,r.axios)({url:"".concat(a.endpoints.chat.markAsReadByMsgId,"/").concat(t,"/").concat(n),method:"put"})},l=function(t){return(0,r.axios)({url:"".concat(a.endpoints.chat.markAsRead,"/").concat(t),method:"put"})},h=function(t,n){return(0,r.axios)({url:"".concat(a.endpoints.chat.sendReaction,"/").concat(t),method:"post",data:n})},f=function(t){return(0,r.axios)({url:"".concat(a.endpoints.chat.getChatId,"/").concat(t),method:"get"})},p=function(t,n){return(0,r.axios)({url:"".concat(a.endpoints.chat.chatMessageByRange,"/").concat(t),method:"get",params:n})}},5343:function(t,n,e){e.r(n),e.d(n,{createContact:function(){return o},deleteContact:function(){return s},getContacts:function(){return c}});var r=e(9599),a=e(77),c=function(t){return(0,r.axios)({method:"get",url:a.endpoints.contact.getContact,params:t})},o=function(t){return(0,r.axios)({method:"post",url:a.endpoints.contact.createContact,data:t})},s=function(t){return(0,r.axios)({method:"delete",url:"".concat(a.endpoints.contact.deleteContact,"/").concat(t)})}},4898:function(t,n,e){e.r(n),e.d(n,{loginUser:function(){return c},registerUser:function(){return o},searchUsers:function(){return s}});var r=e(9599),a=e(77),c=(e(2703),function(t){return(0,r.axios)({url:a.endpoints.user.login,method:"post",data:t})}),o=function(t){return(0,r.axios)({url:a.endpoints.user.register,method:"post",data:t})},s=function(t){return(0,r.axios)({url:a.endpoints.user.search,method:"get",params:t})}},9599:function(t,n,e){e.r(n),e.d(n,{axios:function(){return s}});var r=e(4569),a=e.n(r),c=e(2703),o=e(77),s=a().create({baseURL:o.baseURL});s.interceptors.request.use((function(t){var n=(0,c.cookies)().get("auth_token");return n&&(t.headers.Authorization=n),t}),(function(t){return Promise.reject(t)})),s.interceptors.response.use((function(t){return t}),(function(t){var n;return 401===t.response.status&&document.dispatchEvent(new CustomEvent("logout")),Promise.reject(null===t||void 0===t||null===(n=t.response)||void 0===n?void 0:n.data)}))},3265:function(t,n,e){e.r(n),n.default={contact_card:"ContactCard_contact_card__vHenm",user:"ContactCard_user__usBvC"}},5790:function(t,n,e){e.r(n),n.default={contacts_list:"Contacts_contacts_list__70eS1",title:"Contacts_title__CFJgb"}}}]);
//# sourceMappingURL=3688.73a2b33f.chunk.js.map