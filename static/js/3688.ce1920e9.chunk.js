"use strict";(self.webpackChunkreact_chat_app=self.webpackChunkreact_chat_app||[]).push([[3688,5790,9599,5343],{3688:function(t,e,n){n.r(e);var a=n(2982),r=n(4165),s=n(5861),c=n(885),o=n(2791),u=n(9930),i=n(2703),d=n(4717),l=n(5343),p=n(5790),f=n(184),h=["a","b","c","d","e","f","g","h","i","j","k","l","m","n","o","p","q","r","s","t","u","v","w","x","y","z"];e.default=function(){var t=(0,d.useAuth)().handleChat,e=(0,o.useState)([]),n=(0,c.Z)(e,2),m=n[0],v=n[1];(0,o.useEffect)((function(){x()}),[]);var x=function(){var t=(0,s.Z)((0,r.Z)().mark((function t(){var e,n;return(0,r.Z)().wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return t.prev=0,t.next=3,(0,l.getContacts)();case 3:e=t.sent,n=e.data.data,_(n),t.next=11;break;case 8:t.prev=8,t.t0=t.catch(0),(0,u.Toast)({type:"error",message:null===t.t0||void 0===t.t0?void 0:t.t0.message});case 11:case"end":return t.stop()}}),t,null,[[0,8]])})));return function(){return t.apply(this,arguments)}}(),_=function(t){var e=h.map((function(e){var n=t.filter((function(t){return t.user.name.charAt(0).toLowerCase()===e}));return{word:e.toUpperCase(),users:n.length>0?n.sort((function(t,e){return t.user.name.localeCompare(e.user.name)})):n}}));v([].concat((0,a.Z)(m),(0,a.Z)(e)))};return(0,f.jsx)("div",{id:"contacts-container",className:p.default.contacts_list,children:null===m||void 0===m?void 0:m.map((function(e,n){var a=e.word,r=e.users;return r.length>0&&(0,f.jsxs)(o.Fragment,{children:[(0,f.jsx)("div",{className:p.default.title,children:(0,f.jsx)("b",{children:a})}),r.map((function(e,n){var r=e.user,s=r.name,c=r.avatar,d=r.status,l=r._id,h=e.chatId;e._id;return(0,f.jsxs)(o.Fragment,{children:[(0,f.jsxs)("div",{className:(0,i.classNames)(p.default.contact_card),children:[(0,f.jsxs)("div",{className:p.default.user,onClick:function(){return t(h)},children:[(0,f.jsx)(u.Avatar,{src:c,name:s,size:35,status:d,userId:l}),(0,f.jsx)("span",{children:s})]}),(0,f.jsx)("i",{className:"bx-dots-vertical-rounded",id:"".concat(a,"-").concat(n)})]}),(0,f.jsxs)(u.DropDown,{placement:"bottom",selector:"#".concat(a,"-").concat(n),children:[(0,f.jsxs)(u.DropDownItem,{className:"dropdown-option",children:[(0,f.jsx)("span",{children:"Block"}),(0,f.jsx)("i",{className:"bx-block"})]}),(0,f.jsxs)(u.DropDownItem,{className:"dropdown-option",children:[(0,f.jsx)("span",{children:"Remove"}),(0,f.jsx)("i",{className:"bx-trash"})]})]})]},n)}))]},n)}))})}},5343:function(t,e,n){n.r(e),n.d(e,{createContact:function(){return c},deleteContact:function(){return o},getContacts:function(){return s}});var a=n(9599),r=n(77),s=function(t){return(0,a.axios)({method:"get",url:r.endpoints.contact.getContact,params:t})},c=function(t){return(0,a.axios)({method:"post",url:r.endpoints.contact.createContact,data:t})},o=function(t){return(0,a.axios)({method:"delete",url:"".concat(r.endpoints.contact.deleteContact,"/").concat(t)})}},9599:function(t,e,n){n.r(e),n.d(e,{axios:function(){return o}});var a=n(4569),r=n.n(a),s=n(2703),c=n(77),o=r().create({baseURL:c.baseURL});o.interceptors.request.use((function(t){var e=(0,s.cookies)().get("authToken");return e&&(t.headers.Authorization=e),t}),(function(t){return Promise.reject(t)})),o.interceptors.response.use((function(t){return t}),(function(t){var e;return 401===t.response.status&&document.dispatchEvent(new CustomEvent("logout")),Promise.reject(null===t||void 0===t||null===(e=t.response)||void 0===e?void 0:e.data)}))},5790:function(t,e,n){n.r(e),e.default={contacts_list:"Contacts_contacts_list__70eS1",title:"Contacts_title__CFJgb",contact_card:"Contacts_contact_card__e3hM8",user:"Contacts_user__9UUPA"}}}]);
//# sourceMappingURL=3688.ce1920e9.chunk.js.map