{"version":3,"file":"static/js/3688.ef2d67bf.chunk.js","mappings":"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","sources":["pages/Contacts/Card/index.js","pages/Contacts/index.js","services/Chat.js","services/Contact.js","services/User.js","services/index.js","webpack://chat-app/./src/pages/Contacts/Card/ContactCard.module.scss?01e2","webpack://chat-app/./src/pages/Contacts/Contacts.module.scss?47b9"],"sourcesContent":["import React, { Fragment } from \"react\";\nimport { Avatar, DropDown, DropDownItem } from \"components\";\nimport { classNames } from \"utils\";\n\nimport styles from \"./ContactCard.module.scss\";\n\nconst ContactCard = ({\n  name,\n  avatar,\n  status,\n  userId,\n  chatId,\n  _id,\n  colorCode,\n  handleClick,\n}) => {\n  return (\n    <Fragment>\n      <div className={classNames(styles.contact_card)}>\n        <div className={styles.user} onClick={() => handleClick(chatId, _id)}>\n          <Avatar\n            src={avatar || colorCode}\n            name={name}\n            size={35}\n            status={status}\n            userId={userId}\n          />\n          <span>{name}</span>\n        </div>\n        <i className=\"bx-dots-vertical-rounded\" id={`contact-${_id}`}></i>\n      </div>\n      <DropDown placement=\"bottom\" selector={`#contact-${_id}`}>\n        <DropDownItem className=\"dropdown-option\">\n          <span>Block</span>\n          <i className=\"bx-block\"></i>\n        </DropDownItem>\n        <DropDownItem className=\"dropdown-option\">\n          <span>Remove</span>\n          <i className=\"bx-trash\"></i>\n        </DropDownItem>\n      </DropDown>\n    </Fragment>\n  );\n};\n\nexport default ContactCard;\n","import React, { Fragment, useEffect, useState } from \"react\";\nimport { SearchBox, Toast } from \"components\";\nimport { useAuth } from \"hooks\";\nimport { getContacts } from \"services/Contact\";\nimport { searchUsers } from \"services/User\";\nimport { getChatId } from \"services/Chat\";\nimport ContactCard from \"./Card\";\n\nimport styles from \"./Contacts.module.scss\";\n\nconst Contacts = () => {\n  const { handleChat } = useAuth();\n\n  const [contacts, setContacts] = useState([]);\n\n  const [users, setUsers] = useState([]);\n\n  const [search, setSearch] = useState(\"\");\n\n  let limit = 25;\n\n  useEffect(() => {\n    getAllContacts();\n  }, []);\n\n  useEffect(() => {\n    if (search.length === 0) return;\n    getUsers(1);\n  }, [search]);\n\n  const getAllContacts = async () => {\n    try {\n      let {\n        data: { data },\n      } = await getContacts();\n      setContacts(data);\n    } catch (error) {\n      Toast({ type: \"error\", message: error?.message });\n    }\n  };\n\n  const getUsers = async (page) => {\n    let params = {\n      page,\n      limit,\n      search,\n    };\n\n    try {\n      let {\n        data: { data },\n      } = await searchUsers(params);\n      setUsers(data);\n    } catch (error) {\n      Toast({ type: \"error\", message: error?.message });\n    }\n  };\n\n  const handleChange = async ({ target: { value } }) => {\n    value.length === 0 ? setSearch(\"\") : setSearch(value);\n  };\n\n  const handleClick = async (chatId, userId) => {\n    if (chatId) return handleChat(chatId);\n\n    try {\n      let {\n        data: { data },\n      } = await getChatId(userId);\n      handleChat(data);\n    } catch (error) {\n      console.log(error);\n      Toast({ type: \"error\", message: error?.message });\n    }\n  };\n\n  return (\n    <div className={styles.contacts_list}>\n      <SearchBox\n        title=\"Contacts\"\n        placeholder=\"Search Contacts...\"\n        onChange={handleChange}\n      />\n      {search.length === 0 ? (\n        <Fragment>\n          {contacts?.map(({ word, users }, index) => {\n            return (\n              users.length > 0 && (\n                <Fragment key={index}>\n                  <div className={styles.title}>\n                    <b>{word}</b>\n                  </div>\n                  {users.map((user, ind) => {\n                    return (\n                      <ContactCard\n                        key={ind}\n                        handleClick={handleClick}\n                        {...user}\n                      />\n                    );\n                  })}\n                </Fragment>\n              )\n            );\n          })}\n        </Fragment>\n      ) : (\n        <Fragment>\n          {users.map((user, index) => {\n            return (\n              <ContactCard key={index} handleClick={handleClick} {...user} />\n            );\n          })}\n        </Fragment>\n      )}\n    </div>\n  );\n};\n\nexport default Contacts;\n","import { axios } from \"services\";\nimport { endpoints } from \"./config\";\n\nexport const getChatByType = (type) => {\n  return axios({ url: `${endpoints.chat.list}/${type}`, method: \"get\" });\n};\n\nexport const getChatById = (chatId, params) => {\n  return axios({\n    url: `${endpoints.chat.chatDetails}/${chatId}`,\n    method: \"get\",\n    params,\n  });\n};\n\nexport const getChatMessagesByMsgId = (chatId, msgId, params) => {\n  return axios({\n    url: `${endpoints.chat.chatMessages}/${chatId}/${msgId}`,\n    method: \"get\",\n    params,\n  });\n};\n\nexport const addToFavourite = (chatId) => {\n  return axios({\n    url: `${endpoints.chat.addFavourite}/${chatId}`,\n    method: \"put\",\n  });\n};\n\nexport const removeFromFavourite = (chatId) => {\n  return axios({\n    url: `${endpoints.chat.removeFavourite}/${chatId}`,\n    method: \"delete\",\n  });\n};\n\nexport const markAsReadByMsgId = (chatId, msgId) => {\n  return axios({\n    url: `${endpoints.chat.markAsReadByMsgId}/${chatId}/${msgId}`,\n    method: \"put\",\n  });\n};\n\nexport const markAsRead = (chatId) => {\n  return axios({\n    url: `${endpoints.chat.markAsRead}/${chatId}`,\n    method: \"put\",\n  });\n};\n\nexport const sendReaction = (msgId, data) => {\n  return axios({\n    url: `${endpoints.chat.sendReaction}/${msgId}`,\n    method: \"post\",\n    data,\n  });\n};\n\nexport const getChatId = (userId) => {\n  return axios({ url: `${endpoints.chat.getChatId}/${userId}`, method: \"get\" });\n};\n\nexport const getChatMessageByRange = (chatId, params) => {\n  return axios({\n    url: `${endpoints.chat.chatMessageByRange}/${chatId}`,\n    method: \"get\",\n    params,\n  });\n};\n","import { axios } from \"services\";\nimport { endpoints } from \"./config\";\n\nexport const getContacts = (params) => {\n  return axios({ method: \"get\", url: endpoints.contact.getContact, params });\n};\n\nexport const createContact = (data) => {\n  return axios({ method: \"post\", url: endpoints.contact.createContact, data });\n};\n\nexport const deleteContact = (contactId) => {\n  return axios({\n    method: \"delete\",\n    url: `${endpoints.contact.deleteContact}/${contactId}`,\n  });\n};\n","import { axios } from \"services\";\nimport { endpoints } from \"./config\";\nimport { cookies } from \"utils\";\n\nexport const loginUser = (data) => {\n  return axios({ url: endpoints.user.login, method: \"post\", data });\n};\n\nexport const registerUser = (data) => {\n  return axios({ url: endpoints.user.register, method: \"post\", data });\n};\n\nexport const searchUsers = (params) => {\n  return axios({ url: endpoints.user.search, method: \"get\", params });\n};\n","import Axios from \"axios\";\nimport { cookies } from \"utils\";\nimport { baseURL } from \"./config\";\n\nexport const axios = Axios.create({ baseURL });\n\naxios.interceptors.request.use(\n  (config) => {\n    const cookie = cookies();\n\n    const token = cookie.get(\"auth_token\");\n    if (token) {\n      config.headers.Authorization = token;\n    }\n    return config;\n  },\n  (error) => {\n    return Promise.reject(error);\n  }\n);\n\naxios.interceptors.response.use(\n  (response) => {\n    return response;\n  },\n  (error) => {\n    if (error.response.status === 401) {\n      document.dispatchEvent(new CustomEvent(\"logout\"));\n    }\n    return Promise.reject(error?.response?.data);\n  }\n);\n","// extracted by mini-css-extract-plugin\nexport default {\"contact_card\":\"ContactCard_contact_card__vHenm\",\"user\":\"ContactCard_user__usBvC\"};","// extracted by mini-css-extract-plugin\nexport default {\"contacts_list\":\"Contacts_contacts_list__70eS1\",\"title\":\"Contacts_title__CFJgb\"};"],"names":["name","avatar","status","userId","chatId","_id","colorCode","handleClick","Fragment","className","classNames","styles","onClick","Avatar","src","size","id","DropDown","placement","selector","DropDownItem","handleChat","useAuth","useState","contacts","setContacts","users","setUsers","search","setSearch","useEffect","getAllContacts","length","getUsers","getContacts","data","Toast","type","message","page","params","limit","searchUsers","handleChange","value","target","getChatId","console","log","SearchBox","title","placeholder","onChange","map","index","word","user","ind","getChatByType","axios","url","endpoints","method","getChatById","getChatMessagesByMsgId","msgId","addToFavourite","removeFromFavourite","markAsReadByMsgId","markAsRead","sendReaction","getChatMessageByRange","createContact","deleteContact","contactId","loginUser","registerUser","Axios","baseURL","interceptors","request","use","config","token","cookies","get","headers","Authorization","error","Promise","reject","response","document","dispatchEvent","CustomEvent"],"sourceRoot":""}