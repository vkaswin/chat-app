{"version":3,"file":"static/js/535.ce0106d5.chunk.js","mappings":"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","sources":["pages/Status/Card/index.js","pages/Status/Popup/index.js","pages/Status/index.js","services/Others.js","services/Status.js","services/index.js","webpack://chat-app/./src/pages/Status/Card/StatusCard.module.scss?5405","webpack://chat-app/./src/pages/Status/Popup/StatusPopup.module.scss?1793","webpack://chat-app/./src/pages/Status/Status.module.scss?844c"],"sourcesContent":["import { Avatar } from \"components\";\nimport React, { useMemo } from \"react\";\nimport moment from \"moment\";\n\nimport styles from \"./StatusCard.module.scss\";\n\nconst StatusCard = ({\n  status,\n  chatId,\n  _id,\n  user: { avatar, colorCode, name, email, _id: userid, status: userStatus },\n  userId,\n}) => {\n  let gap = 10;\n  let radius = 50;\n  let circumference = 2 * Math.PI * radius;\n\n  const getStrokeDashArray = (size, seenCount) => {\n    let str = \"\";\n    for (let i = 1; i <= seenCount; i++) {\n      if (seenCount === 1) {\n        str = `${size} ${circumference - size} `;\n      } else if (i === seenCount) {\n        str += `${size} ${\n          circumference -\n          str.split(\" \").reduce((value, current) => {\n            return value + +current;\n          }, size)\n        } `;\n      } else {\n        str += `${size} ${gap} `;\n      }\n    }\n    return str.trim();\n  };\n\n  const circleSvg = useMemo(() => {\n    if (!userId) return;\n\n    let seenCount = status.reduce((value, { seen }) => {\n      let index = seen.findIndex(({ user }) => {\n        return user === userId;\n      });\n      return index !== -1 ? value + 1 : value;\n    }, 0);\n\n    let size = (circumference - gap * status.length) / status.length;\n    let strokeDashoffset = circumference / 4;\n    let notSeenCount = status.length - seenCount;\n\n    if (\n      seenCount === status.length ||\n      seenCount === 0 ||\n      notSeenCount === status.length ||\n      notSeenCount === 0\n    ) {\n      return (\n        <svg width=\"48\" height=\"48\" viewBox=\"0 0 104 104\">\n          <circle\n            cx=\"52\"\n            cy=\"52\"\n            r={radius}\n            fill=\"none\"\n            strokeLinecap=\"round\"\n            strokeDashoffset={\n              notSeenCount > 1 || seenCount > 1 ? strokeDashoffset : \"\"\n            }\n            strokeDasharray={`${\n              notSeenCount > 1 || seenCount > 1 ? size : size + gap\n            } ${notSeenCount > 1 || seenCount > 1 ? gap : \"\"}`.trim()}\n            strokeWidth=\"4\"\n            stroke={seenCount === 0 ? \"#008168\" : \"#AFB3B9\"}\n          ></circle>\n        </svg>\n      );\n    } else {\n      let seenStrokeDashArray = getStrokeDashArray(size, seenCount);\n      let notSeenStrokeDashArray = getStrokeDashArray(size, notSeenCount);\n      let strokeDashArray = seenStrokeDashArray.split(\" \");\n      let notSeenStrokeDashOffset =\n        +strokeDashArray[strokeDashArray.length - 1] + circumference / 4 - gap;\n\n      return (\n        <svg width=\"48\" height=\"48\" viewBox=\"0 0 104 104\">\n          <circle\n            cx=\"52\"\n            cy=\"52\"\n            r={radius}\n            fill=\"none\"\n            strokeLinecap=\"round\"\n            strokeDashoffset={strokeDashoffset}\n            strokeDasharray={seenStrokeDashArray}\n            strokeWidth=\"4\"\n            stroke=\"#AFB3B9\"\n          ></circle>\n          <circle\n            cx=\"52\"\n            cy=\"52\"\n            r={radius}\n            fill=\"none\"\n            strokeLinecap=\"round\"\n            strokeDashoffset={notSeenStrokeDashOffset}\n            strokeDasharray={notSeenStrokeDashArray}\n            strokeWidth=\"4\"\n            stroke=\"#008168\"\n          ></circle>\n        </svg>\n      );\n    }\n  }, [status, userId]);\n\n  const lastStatusDate = useMemo(() => {\n    return moment(status.at(-1).date).startOf(\"hour\").fromNow();\n  }, [status]);\n\n  return (\n    <div className={styles.card}>\n      <div className={styles.avatar}>\n        {circleSvg}\n        <div className={styles.profile}>\n          <Avatar\n            src={avatar || colorCode}\n            name={name}\n            userId={userid}\n            status={userStatus}\n            outline={false}\n            size={42}\n          />\n        </div>\n      </div>\n      <div className={styles.user_info}>\n        <b>{name}</b>\n        <span>{lastStatusDate}</span>\n      </div>\n    </div>\n  );\n};\n\nexport default StatusCard;\n","import { Avatar } from \"components\";\nimport React from \"react\";\n\nimport styles from \"./StatusPopup.module.scss\";\n\nconst StatusPopup = () => {\n  let {\n    _id: userId = \"63033ccb39175ac026b70761\",\n    name = \"Karthick Kumar\",\n    email = \"karthick@gmail.com\",\n    status = false,\n    avatar = \"https://firebasestorage.googleapis.com/v0/b/chat-app-d7a32.appspot.com/o/image%2Favataaars%20(2).png?alt=media\",\n    colorCode = \"#11C1DA\",\n  } = {};\n  return (\n    <div className={styles.container}>\n      <div className={styles.wrapper}>\n        <div className={styles.header}>\n          <div className={styles.indicator}></div>\n          <div className={styles.avatar}>\n            <Avatar src={avatar || colorCode} name={name} userId={userId} />\n          </div>\n        </div>\n        <div className={styles.media}>\n          <img src=\"https://firebasestorage.googleapis.com/v0/b/chat-app-d7a32.appspot.com/o/image%2Fdownload (1).jpeg?alt=media\" />\n        </div>\n        <div className={styles.footer}></div>\n      </div>\n    </div>\n  );\n};\n\nexport default StatusPopup;\n","import React, { Fragment, useEffect, useMemo, useState } from \"react\";\nimport { Avatar, SearchBox, Toast } from \"components\";\nimport { useAuth } from \"hooks\";\nimport StatusCard from \"./Card\";\nimport StatusPopup from \"./Popup\";\n\nimport styles from \"./Status.module.scss\";\nimport { fileUpload } from \"services/Others\";\nimport { createStatus, getAllStatus } from \"services/Status\";\n\nconst StatusPage = () => {\n  const { user } = useAuth();\n\n  const [statusList, setStatusList] = useState([\n    {\n      _id: \"630747c05006286373ffef6d\",\n      chatId: \"630349d4634d5afb324cc562\",\n      status: [\n        {\n          _id: \"63620498b30513caf298bf64\",\n          url: \"https://firebasestorage.googleapis.com/v0/b/chat-app-d7a32.appspot.com/o/image%2Fdownload (1).jpeg?alt=media\",\n          date: \"2022-11-02T05:48:08.367Z\",\n          seen: [\n            {\n              user: \"6303217405f1714edcfc1cb6\",\n            },\n          ],\n        },\n        {\n          _id: \"6362049fb30513caf298bf66\",\n          url: \"https://firebasestorage.googleapis.com/v0/b/chat-app-d7a32.appspot.com/o/image%2Fdownload.jpeg?alt=media\",\n          date: \"2022-11-02T05:48:15.686Z\",\n          seen: [\n            {\n              user: \"6303217405f1714edcfc1cb6\",\n            },\n          ],\n        },\n        {\n          _id: \"63620498b30513caf298bf64\",\n          url: \"https://firebasestorage.googleapis.com/v0/b/chat-app-d7a32.appspot.com/o/image%2Fdownload (1).jpeg?alt=media\",\n          date: \"2022-11-02T05:48:08.367Z\",\n          seen: [\n            {\n              user: \"6303217405f1714edcfc1cb6\",\n            },\n          ],\n        },\n        {\n          _id: \"6362049fb30513caf298bf66\",\n          url: \"https://firebasestorage.googleapis.com/v0/b/chat-app-d7a32.appspot.com/o/image%2Fdownload.jpeg?alt=media\",\n          date: \"2022-11-02T05:48:15.686Z\",\n          seen: [],\n        },\n        {\n          _id: \"6362049fb30513caf298bf66\",\n          url: \"https://firebasestorage.googleapis.com/v0/b/chat-app-d7a32.appspot.com/o/image%2Fdownload.jpeg?alt=media\",\n          date: \"2022-11-02T05:48:15.686Z\",\n          seen: [],\n        },\n      ],\n      user: {\n        _id: \"63033ccb39175ac026b70761\",\n        name: \"Karthick Kumar\",\n        email: \"karthick@gmail.com\",\n        status: false,\n        avatar:\n          \"https://firebasestorage.googleapis.com/v0/b/chat-app-d7a32.appspot.com/o/image%2Favataaars%20(2).png?alt=media\",\n        colorCode: \"#11C1DA\",\n      },\n    },\n    {\n      _id: \"630747c05006286373ffef64\",\n      chatId: \"630349d4634d5afb324cc562\",\n      status: [\n        {\n          _id: \"63620498b30513caf298bf64\",\n          url: \"https://firebasestorage.googleapis.com/v0/b/chat-app-d7a32.appspot.com/o/image%2Fdownload (1).jpeg?alt=media\",\n          date: \"2022-11-02T05:48:08.367Z\",\n          seen: [],\n        },\n        {\n          _id: \"6362049fb30513caf298bf66\",\n          url: \"https://firebasestorage.googleapis.com/v0/b/chat-app-d7a32.appspot.com/o/image%2Fdownload.jpeg?alt=media\",\n          date: \"2022-11-02T05:48:15.686Z\",\n          seen: [],\n        },\n        {\n          _id: \"6362049fb30513caf298bf66\",\n          url: \"https://firebasestorage.googleapis.com/v0/b/chat-app-d7a32.appspot.com/o/image%2Fdownload.jpeg?alt=media\",\n          date: \"2022-11-02T05:48:15.686Z\",\n          seen: [],\n        },\n      ],\n      user: {\n        _id: \"63033ccb39175ac026b70761\",\n        name: \"Lebron James\",\n        email: \"lebron@gmail.com\",\n        status: false,\n        avatar:\n          \"https://firebasestorage.googleapis.com/v0/b/chat-app-d7a32.appspot.com/o/image%2Favataaars%20(2).png?alt=media\",\n        colorCode: \"#11C1DA\",\n      },\n    },\n  ]);\n\n  //   useEffect(() => {\n  //     getStatusList();\n  //   }, []);\n\n  const getStatusList = async () => {\n    try {\n      let {\n        data: {\n          data: { list, pageMeta },\n        },\n      } = await getAllStatus();\n      setStatusList(list);\n    } catch (error) {\n      Toast({ type: \"error\", message: error?.message });\n    }\n  };\n\n  const handleChange = async ({ target: { files } }) => {\n    const formData = new FormData();\n    for (let file of files) {\n      formData.append(\"file\", file);\n    }\n    try {\n      let {\n        data: {\n          data: [url],\n        },\n      } = await fileUpload(formData);\n      let res = await createStatus({ url, date: new Date().toISOString() });\n    } catch (error) {\n      Toast({ type: \"error\", message: error?.message });\n    }\n  };\n\n  const allStatusList = useMemo(() => {\n    if (!user?.id || statusList.length === 0)\n      return [\n        { title: \"Recent Updates\", list: [] },\n        { title: \"Viewed Updates\", list: [] },\n      ];\n\n    let viewedList = statusList.filter((list) => {\n      return list.status.every(({ seen }) => {\n        let index = seen.findIndex(({ user: userId }) => {\n          return user.id === userId;\n        });\n        return index >= 0;\n      });\n    });\n\n    let recentList = statusList.filter((list) => {\n      return list.status.some(({ seen }) => {\n        let index = seen.findIndex(({ user: userId }) => {\n          return user.id === userId;\n        });\n        return index == -1;\n      });\n    });\n\n    return [\n      { title: \"Recent Updates\", list: recentList },\n      { title: \"Viewed Updates\", list: viewedList },\n    ];\n  }, [statusList, user]);\n\n  return (\n    <Fragment>\n      <SearchBox placeholder=\"Search here...\" title=\"Status\" />\n      <div className={styles.container}>\n        <div className={styles.my_status}>\n          <div className={styles.avatar}>\n            <Avatar\n              src={user?.avatar || user?.colorCode}\n              name={user?.name}\n              size={50}\n            />\n            <label htmlFor=\"my-status\">\n              <i className=\"bx-plus\"></i>\n            </label>\n            <input id=\"my-status\" type=\"file\" onChange={handleChange} hidden />\n          </div>\n          <div className={styles.title}>\n            <b>My Status</b>\n            <span>Add to my status</span>\n          </div>\n          <div className={styles.icons}>\n            <label htmlFor=\"my-status\">\n              <i className=\"bxs-camera\"></i>\n            </label>\n            <label>\n              <i className=\"bxs-pencil\"></i>\n            </label>\n          </div>\n        </div>\n        {allStatusList.map(({ title, list }, index) => {\n          return (\n            list.length > 0 && (\n              <div key={index} className={styles.status_list}>\n                <div className={styles.title}>\n                  <b>{title}</b>\n                </div>\n                {list.map((list) => {\n                  return (\n                    <StatusCard key={list._id} {...list} userId={user?.id} />\n                  );\n                })}\n              </div>\n            )\n          );\n        })}\n      </div>\n      <StatusPopup />\n    </Fragment>\n  );\n};\n\nexport default StatusPage;\n","import { axios } from \"services\";\nimport { endpoints } from \"config\";\nimport { Toast } from \"components\";\n\nexport const metaData = (data) => {\n  return axios({ url: endpoints.others?.metaData, method: \"post\", data });\n};\n\nexport const fileUpload = async (data) => {\n  return axios({\n    url: endpoints.others?.fileUpload,\n    method: \"post\",\n    data,\n  });\n};\n","import { axios } from \"services\";\nimport { endpoints } from \"config\";\n\nexport const createStatus = (data) => {\n  return axios({ url: endpoints.status.create, method: \"post\", data });\n};\n\nexport const getAllStatus = () => {\n  return axios({\n    url: endpoints.status.allStatus,\n    method: \"get\",\n  });\n};\n","import Axios from \"axios\";\nimport { cookies } from \"utils\";\nimport { baseURL } from \"config\";\n\nexport const axios = Axios.create({ baseURL });\n\naxios.interceptors.request.use(\n  (config) => {\n    const cookie = cookies();\n\n    const token = cookie.get(\"auth_token\");\n    if (token) {\n      config.headers.Authorization = token;\n    }\n    return config;\n  },\n  (error) => {\n    return Promise.reject(error);\n  }\n);\n\naxios.interceptors.response.use(\n  (response) => {\n    return response;\n  },\n  (error) => {\n    if (error.response.status === 401) {\n      document.dispatchEvent(new CustomEvent(\"logout\"));\n    }\n    return Promise.reject(error?.response?.data);\n  }\n);\n","// extracted by mini-css-extract-plugin\nexport default {\"card\":\"StatusCard_card__Jawxr\",\"avatar\":\"StatusCard_avatar__lHmGe\",\"profile\":\"StatusCard_profile__fuCNK\",\"user_info\":\"StatusCard_user_info__K2NI+\"};","// extracted by mini-css-extract-plugin\nexport default {\"container\":\"StatusPopup_container__7qNO9\",\"wrapper\":\"StatusPopup_wrapper__ixYB-\",\"media\":\"StatusPopup_media__uB6Jz\"};","// extracted by mini-css-extract-plugin\nexport default {\"container\":\"Status_container__0HXkP\",\"my_status\":\"Status_my_status__vZYFx\",\"avatar\":\"Status_avatar__u67au\",\"title\":\"Status_title__+XhuX\",\"icons\":\"Status_icons__hmUWq\",\"status_list\":\"Status_status_list__vHjTa\"};"],"names":["status","chatId","_id","user","avatar","colorCode","name","userid","email","userStatus","userId","circumference","Math","PI","getStrokeDashArray","size","seenCount","str","i","split","reduce","value","current","trim","circleSvg","useMemo","seen","findIndex","length","strokeDashoffset","notSeenCount","width","height","viewBox","cx","cy","r","fill","strokeLinecap","strokeDasharray","strokeWidth","stroke","seenStrokeDashArray","notSeenStrokeDashArray","strokeDashArray","notSeenStrokeDashOffset","lastStatusDate","moment","at","date","startOf","fromNow","className","styles","Avatar","src","outline","useAuth","useState","url","statusList","handleChange","files","target","formData","FormData","file","append","fileUpload","data","createStatus","Date","toISOString","Toast","type","message","allStatusList","id","title","list","viewedList","filter","every","some","Fragment","SearchBox","placeholder","htmlFor","onChange","hidden","map","index","metaData","axios","endpoints","method","getAllStatus","Axios","baseURL","interceptors","request","use","config","token","cookies","get","headers","Authorization","error","Promise","reject","response","document","dispatchEvent","CustomEvent"],"sourceRoot":""}