"use strict";(self.webpackChunkreact_chat_app=self.webpackChunkreact_chat_app||[]).push([[5665,3693,9599,3537],{5665:function(e,t,n){n.r(t);var a=n(4165),r=n(5861),s=n(885),c=n(2791),o=n(9930),u=n(2703),i=n(3537),l=n(3693),p=n(184);t.default=function(e){var t=e.isOpen,n=e.toggle,d=e.msgId,f=(0,c.useState)([]),v=(0,s.Z)(f,2),g=v[0],m=v[1],h=(0,c.useState)([]),x=(0,s.Z)(h,2),_=x[0],R=x[1],j=(0,c.useState)(),y=(0,s.Z)(j,2),k=(y[0],y[1]);(0,c.useEffect)((function(){t&&Z()}),[t]);var Z=function(){var e=(0,r.Z)((0,a.Z)().mark((function e(){var t,n,r,c,o;return(0,a.Z)().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return t={page:1,limit:25},e.prev=1,e.next=4,Promise.all([(0,i.getReactions)(d),(0,i.getReactionsByType)(d,t)]);case 4:n=e.sent,r=(0,s.Z)(n,2),c=r[0].data.data,o=r[1].data.data,m(c),R(o),e.next=15;break;case 12:e.prev=12,e.t0=e.catch(1),console.log(e.t0);case 15:case"end":return e.stop()}}),e,null,[[1,12]])})));return function(){return e.apply(this,arguments)}}(),P=function(){var e=(0,r.Z)((0,a.Z)().mark((function e(t){var n,r,s;return(0,a.Z)().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return n={page:1,limit:25,type:t},e.prev=1,e.next=4,(0,i.getReactionsByType)(d,n);case 4:r=e.sent,s=r.data.data,k(t),R(s),e.next=13;break;case 10:e.prev=10,e.t0=e.catch(1),console.log(e.t0);case 13:case"end":return e.stop()}}),e,null,[[1,10]])})));return function(t){return e.apply(this,arguments)}}();return(0,p.jsx)(o.Modal,{isOpen:t,toggle:n,children:(0,p.jsxs)("div",{className:l.default.popup,children:[(0,p.jsxs)("div",{className:l.default.reactions,children:[(0,p.jsx)("div",{className:l.default.all,onClick:function(){return P()},children:(0,p.jsx)("span",{children:"All"})}),null===g||void 0===g?void 0:g.map((function(e,t){var n=e.reaction,a=e.total;return(0,p.jsxs)("div",{className:l.default.card,onClick:function(){return P(n)},children:[(0,p.jsx)("img",{src:(0,u.getReactionUrl)(n)}),(0,p.jsx)("span",{children:a})]},t)}))]}),(0,p.jsx)("div",{className:l.default.users,children:_.map((function(e,t){var n=e.avatar,a=(e.email,e.id),r=e.name,s=e.status;e.date;return(0,p.jsxs)("div",{className:l.default.card,children:[(0,p.jsx)(o.Avatar,{name:r,size:40,status:s,userId:a,src:n}),(0,p.jsx)("span",{children:r})]},t)}))})]})})}},3537:function(e,t,n){n.r(t),n.d(t,{createMessage:function(){return s},getReactions:function(){return c},getReactionsByType:function(){return o},getSeenByMsgId:function(){return u}});var a=n(9599),r=n(77),s=function(e,t){return(0,a.axios)({url:"".concat(r.endpoints.message.createMessage,"/").concat(e),method:"post",data:t})},c=function(e){return(0,a.axios)({url:"".concat(r.endpoints.message.getReaction,"/").concat(e),method:"get"})},o=function(e,t){return(0,a.axios)({url:"".concat(r.endpoints.message.getReactionByType,"/").concat(e),method:"get",params:t})},u=function(e,t){return(0,a.axios)({url:"".concat(r.endpoints.message.getSeen,"/").concat(e),method:"get",params:t})}},9599:function(e,t,n){n.r(t),n.d(t,{axios:function(){return o}});var a=n(4569),r=n.n(a),s=n(2703),c=n(77),o=r().create({baseURL:c.baseURL});o.interceptors.request.use((function(e){var t=(0,s.cookies)().get("authToken");return t&&(e.headers.Authorization=t),e}),(function(e){return Promise.reject(e)})),o.interceptors.response.use((function(e){return e}),(function(e){var t;return 401===e.response.status&&document.dispatchEvent(new CustomEvent("logout")),Promise.reject(null===e||void 0===e||null===(t=e.response)||void 0===t?void 0:t.data)}))},3693:function(e,t,n){n.r(t),t.default={popup:"ReactionPopup_popup__yt4AZ",reactions:"ReactionPopup_reactions__3HDB6",all:"ReactionPopup_all__nfaPI",card:"ReactionPopup_card__P+lgl",users:"ReactionPopup_users__81RJu"}}}]);
//# sourceMappingURL=5665.1beee973.chunk.js.map