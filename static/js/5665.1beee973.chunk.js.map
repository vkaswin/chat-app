{"version":3,"file":"static/js/5665.1beee973.chunk.js","mappings":"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","sources":["layouts/AppLayout/Chat/ReactionPopup/index.js","services/Message.js","services/index.js","webpack://react-chat-app/./src/layouts/AppLayout/Chat/ReactionPopup/ReactionPopup.module.scss?5bbe"],"sourcesContent":["import React, { useEffect, useState } from \"react\";\nimport { Avatar, Modal } from \"components\";\nimport { getReactionUrl } from \"utils\";\nimport { getReactions, getReactionsByType } from \"services/Message\";\n\nimport styles from \"./ReactionPopup.module.scss\";\n\nconst ReactionPopup = ({ isOpen, toggle, msgId }) => {\n  const [reactions, setReactions] = useState([]);\n  const [users, setUsers] = useState([]);\n  const [type, setType] = useState();\n\n  let limit = 25;\n\n  useEffect(() => {\n    if (!isOpen) return;\n    getReaction();\n  }, [isOpen]);\n\n  const getReaction = async () => {\n    let params = {\n      page: 1,\n      limit,\n    };\n    try {\n      let [\n        {\n          data: { data: reaction },\n        },\n        {\n          data: { data: list },\n        },\n      ] = await Promise.all([\n        getReactions(msgId),\n        getReactionsByType(msgId, params),\n      ]);\n      setReactions(reaction);\n      setUsers(list);\n    } catch (error) {\n      console.log(error);\n    }\n  };\n\n  const getReactionList = async (reaction) => {\n    let params = {\n      page: 1,\n      limit,\n      type: reaction,\n    };\n    try {\n      let {\n        data: { data },\n      } = await getReactionsByType(msgId, params);\n      setType(reaction);\n      setUsers(data);\n    } catch (error) {\n      console.log(error);\n    }\n  };\n\n  return (\n    <Modal isOpen={isOpen} toggle={toggle}>\n      <div className={styles.popup}>\n        <div className={styles.reactions}>\n          <div className={styles.all} onClick={() => getReactionList()}>\n            <span>All</span>\n          </div>\n          {reactions?.map(({ reaction, total }, index) => {\n            return (\n              <div\n                key={index}\n                className={styles.card}\n                onClick={() => getReactionList(reaction)}\n              >\n                <img src={getReactionUrl(reaction)} />\n                <span>{total}</span>\n              </div>\n            );\n          })}\n        </div>\n        <div className={styles.users}>\n          {users.map(({ avatar, email, id, name, status, date }, index) => {\n            return (\n              <div key={index} className={styles.card}>\n                <Avatar\n                  name={name}\n                  size={40}\n                  status={status}\n                  userId={id}\n                  src={avatar}\n                />\n                <span>{name}</span>\n              </div>\n            );\n          })}\n        </div>\n      </div>\n    </Modal>\n  );\n};\n\nexport default ReactionPopup;\n","import { axios } from \"services\";\nimport { endpoints } from \"config\";\n\nexport const createMessage = (chatId, data) => {\n  return axios({\n    url: `${endpoints.message.createMessage}/${chatId}`,\n    method: \"post\",\n    data,\n  });\n};\n\nexport const getReactions = (msgId) => {\n  return axios({\n    url: `${endpoints.message.getReaction}/${msgId}`,\n    method: \"get\",\n  });\n};\n\nexport const getReactionsByType = (msgId, params) => {\n  return axios({\n    url: `${endpoints.message.getReactionByType}/${msgId}`,\n    method: \"get\",\n    params,\n  });\n};\n\nexport const getSeenByMsgId = (msgId, params) => {\n  return axios({\n    url: `${endpoints.message.getSeen}/${msgId}`,\n    method: \"get\",\n    params,\n  });\n};\n","import Axios from \"axios\";\nimport { cookies } from \"utils\";\nimport { baseURL } from \"config\";\n\nexport const axios = Axios.create({ baseURL });\n\naxios.interceptors.request.use(\n  (config) => {\n    const cookie = cookies();\n\n    const token = cookie.get(\"authToken\");\n    if (token) {\n      config.headers.Authorization = token;\n    }\n    return config;\n  },\n  (error) => {\n    return Promise.reject(error);\n  }\n);\n\naxios.interceptors.response.use(\n  (response) => {\n    return response;\n  },\n  (error) => {\n    if (error.response.status === 401) {\n      document.dispatchEvent(new CustomEvent(\"logout\"));\n    }\n    return Promise.reject(error?.response?.data);\n  }\n);\n","// extracted by mini-css-extract-plugin\nexport default {\"popup\":\"ReactionPopup_popup__yt4AZ\",\"reactions\":\"ReactionPopup_reactions__3HDB6\",\"all\":\"ReactionPopup_all__nfaPI\",\"card\":\"ReactionPopup_card__P+lgl\",\"users\":\"ReactionPopup_users__81RJu\"};"],"names":["isOpen","toggle","msgId","useState","reactions","setReactions","users","setUsers","setType","useEffect","getReaction","params","page","limit","Promise","all","getReactions","getReactionsByType","reaction","data","list","console","log","getReactionList","type","Modal","className","styles","onClick","map","index","total","src","getReactionUrl","avatar","id","email","name","status","date","Avatar","size","userId","createMessage","chatId","axios","url","endpoints","method","getSeenByMsgId","Axios","baseURL","interceptors","request","use","config","token","cookies","get","headers","Authorization","error","reject","response","document","dispatchEvent","CustomEvent"],"sourceRoot":""}