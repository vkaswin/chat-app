{"version":3,"file":"static/js/5698.8916d0d2.chunk.js","mappings":"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","sources":["layouts/AppLayout/Chat/Conversation/ReactionPopup/index.js","services/Message.js","services/index.js","webpack://chat-app/./src/layouts/AppLayout/Chat/Conversation/ReactionPopup/ReactionPopup.module.scss?f2c7"],"sourcesContent":["import React, { useEffect, useState } from \"react\";\nimport { Avatar, Modal, Toast } from \"components\";\nimport { getReactionUrl } from \"utils\";\nimport { getReactions, getReactionsByType } from \"services/Message\";\n\nimport styles from \"./ReactionPopup.module.scss\";\n\nconst ReactionPopup = ({ msgId, clearMsgId }) => {\n  const [reactions, setReactions] = useState([]);\n  const [users, setUsers] = useState([]);\n  const [type, setType] = useState();\n  const [isOpen, setIsOpen] = useState(false);\n\n  let limit = 25;\n\n  useEffect(() => {\n    if (!msgId) return;\n    getReaction();\n  }, [msgId]);\n\n  const getReaction = async () => {\n    let params = {\n      page: 1,\n      limit,\n    };\n    try {\n      let [\n        {\n          data: { data: reaction },\n        },\n        {\n          data: { data: list },\n        },\n      ] = await Promise.all([\n        getReactions(msgId),\n        getReactionsByType(msgId, params),\n      ]);\n      setReactions(reaction);\n      setUsers(list);\n    } catch (error) {\n      Toast({ type: \"error\", message: error?.message });\n    } finally {\n      setIsOpen(true);\n    }\n  };\n\n  const getReactionList = async (reaction) => {\n    let params = {\n      page: 1,\n      limit,\n      type: reaction,\n    };\n    try {\n      let {\n        data: { data },\n      } = await getReactionsByType(msgId, params);\n      setType(reaction);\n      setUsers(data);\n    } catch (error) {\n      Toast({ type: \"error\", message: error?.message });\n    }\n  };\n\n  const toggle = () => {\n    clearMsgId();\n    setIsOpen(false);\n  };\n\n  return (\n    <Modal isOpen={isOpen} toggle={toggle}>\n      <div className={styles.popup}>\n        <div className={styles.reactions}>\n          <div className={styles.all} onClick={() => getReactionList()}>\n            <span>All</span>\n          </div>\n          {reactions?.map(({ reaction, total }, index) => {\n            return (\n              <div\n                key={index}\n                className={styles.card}\n                onClick={() => getReactionList(reaction)}\n              >\n                <img src={getReactionUrl(reaction)} loading=\"lazy\" alt=\"\" />\n                <span>{total}</span>\n              </div>\n            );\n          })}\n        </div>\n        <div className={styles.users}>\n          {users.map(\n            ({ avatar, email, _id, name, status, date, colorCode }, index) => {\n              return (\n                <div key={index} className={styles.card}>\n                  <Avatar\n                    name={name}\n                    size={40}\n                    status={status}\n                    userId={_id}\n                    src={avatar || colorCode}\n                  />\n                  <span>{name}</span>\n                </div>\n              );\n            }\n          )}\n        </div>\n      </div>\n    </Modal>\n  );\n};\n\nexport default ReactionPopup;\n","import { axios } from \"services\";\nimport { endpoints } from \"config\";\n\nexport const createMessage = (chatId, data) => {\n  return axios({\n    url: `${endpoints.message.createMessage}/${chatId}`,\n    method: \"post\",\n    data,\n  });\n};\n\nexport const getReactions = (msgId) => {\n  return axios({\n    url: `${endpoints.message.getReaction}/${msgId}`,\n    method: \"get\",\n  });\n};\n\nexport const getReactionsByType = (msgId, params) => {\n  return axios({\n    url: `${endpoints.message.getReactionByType}/${msgId}`,\n    method: \"get\",\n    params,\n  });\n};\n\nexport const getSeenByMsgId = (msgId, params) => {\n  return axios({\n    url: `${endpoints.message.getSeen}/${msgId}`,\n    method: \"get\",\n    params,\n  });\n};\n","import Axios from \"axios\";\nimport { cookies } from \"utils\";\nimport { baseURL } from \"config\";\n\nexport const axios = Axios.create({ baseURL });\n\naxios.interceptors.request.use(\n  (config) => {\n    const cookie = cookies();\n\n    const token = cookie.get(\"auth_token\");\n    if (token) {\n      config.headers.Authorization = token;\n    }\n    return config;\n  },\n  (error) => {\n    return Promise.reject(error);\n  }\n);\n\naxios.interceptors.response.use(\n  (response) => {\n    return response;\n  },\n  (error) => {\n    if (error.response.status === 401) {\n      document.dispatchEvent(new CustomEvent(\"logout\"));\n    }\n    return Promise.reject(error?.response?.data);\n  }\n);\n","// extracted by mini-css-extract-plugin\nexport default {\"popup\":\"ReactionPopup_popup__aIJrS\",\"reactions\":\"ReactionPopup_reactions__GiKWs\",\"all\":\"ReactionPopup_all__Ofebr\",\"card\":\"ReactionPopup_card__i6T3l\",\"users\":\"ReactionPopup_users__zmbBG\"};"],"names":["msgId","clearMsgId","useState","reactions","setReactions","users","setUsers","setType","isOpen","setIsOpen","useEffect","getReaction","params","page","limit","Promise","all","getReactions","getReactionsByType","reaction","data","list","Toast","type","message","getReactionList","Modal","toggle","className","styles","onClick","map","index","total","src","getReactionUrl","loading","alt","avatar","_id","email","name","status","colorCode","date","Avatar","size","userId","createMessage","chatId","axios","url","endpoints","method","getSeenByMsgId","Axios","baseURL","interceptors","request","use","config","token","cookies","get","headers","Authorization","error","reject","response","document","dispatchEvent","CustomEvent"],"sourceRoot":""}