"use strict";(self.webpackChunkreact_chat_app=self.webpackChunkreact_chat_app||[]).push([[6467,77,7181,9599,3739],{40077:function(e,r,n){n.r(r),n.d(r,{authURL:function(){return a},baseURL:function(){return t},endpoints:function(){return s}});var t="http://localhost:8000",a="/api/auth",s={auth:{login:"".concat(a,"/login"),register:"".concat(a,"/register")}}},66467:function(e,r,n){n.r(r);var t=n(74165),a=n(15861),s=n(70885),i=n(72791),o=n(19195),l=n(59930),c=n(2703),u=n(14717),d=n(43504),p=n(13739),h=n(67181),g=n(80184);r.default=function(){var e=(0,o.cI)(),r=e.register,n=e.handleSubmit,f=e.reset,m=e.formState.errors,v=((0,u.useRouter)(),(0,i.useState)(!1)),_=(0,s.Z)(v,2),x=_[0],b=_[1];(0,i.useEffect)((function(){var e,r=null!==(e=(0,c.getCookie)("login-cache"))&&void 0!==e?e:{},n=r.email,t=void 0===n?null:n,a=r.password,s=void 0===a?null:a;t&&s&&(f({email:t,password:s}),b(!0))}),[]);var k=function(){var e=(0,a.Z)((0,t.Z)().mark((function e(r){var n;return(0,t.Z)().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return r.email,r.password,e.prev=1,e.next=4,(0,p.login)(r);case 4:n=e.sent,console.log(n),e.next=11;break;case 8:e.prev=8,e.t0=e.catch(1),(0,l.Toast)({type:"error",message:null===e.t0||void 0===e.t0?void 0:e.t0.message});case 11:case"end":return e.stop()}}),e,null,[[1,8]])})));return function(r){return e.apply(this,arguments)}}();return(0,g.jsxs)("div",{children:[(0,g.jsxs)("div",{className:h.default.login_title,children:[(0,g.jsx)("b",{children:"Welcome Back! \ud83d\udc4b"}),(0,g.jsx)("span",{children:"Sign in to continue"})]}),(0,g.jsxs)("div",{className:h.default.login_field,children:[(0,g.jsx)(l.Input,{label:"Email",placeholder:"Enter email",register:r("email",{required:!0,pattern:/^([A-Za-z0-9_\-\.])+\@([A-Za-z0-9_\-\.])+\.([A-Za-z]{2,4})$/}),error:null===m||void 0===m?void 0:m.email,message:{required:"Please enter email id",pattern:"Invalid email id"}}),(0,g.jsx)(l.PasswordInput,{label:"Password",placeholder:"Enter Password",register:r("password",{required:!0}),error:m.password,message:{required:"Please enter password"}}),(0,g.jsx)(l.CheckBox,{label:"Remeber Me",name:"rememberMe",onChange:function(e){var r=e.target.checked;b(r)},checked:x}),(0,g.jsx)("button",{className:"btn-primary",onClick:n(k),children:"Log In"}),(0,g.jsxs)("div",{className:h.default.register,children:[(0,g.jsx)("span",{children:"Dont't have an account ?"}),(0,g.jsx)(d.OL,{to:"/auth/register",children:(0,g.jsx)("span",{children:"Register"})})]})]})]})}},13739:function(e,r,n){n.r(r),n.d(r,{login:function(){return s}});var t=n(39599),a=n(40077),s=function(e){return(0,t.axios)({url:a.endpoints.auth.login,method:"post",data:e})}},39599:function(e,r,n){n.r(r),n.d(r,{axios:function(){return o}});var t=n(74569),a=n.n(t),s=n(2703),i=n(40077),o=a().create({baseURL:i.baseURL});o.interceptors.request.use((function(e){var r=(0,s.getCookie)("authToken");return r&&(e.headers.Authorization=r),e}),(function(e){return Promise.reject(e)})),o.interceptors.response.use((function(e){return e}),(function(e){if(401===e.response.status){(0,s.clearCookie)("authToken");var r=new CustomEvent("logout");document.dispatchEvent(r)}return console.log(e.response,"res"),Promise.reject(e.response.data)}))},67181:function(e,r,n){n.r(r),r.default={login_title:"Login_login_title__DtVsO",login_field:"Login_login_field__Uyc8w",register:"Login_register__2QbhW"}}}]);
//# sourceMappingURL=6467.8bf8edab.chunk.js.map