{"version":3,"file":"static/js/6467.8bf8edab.chunk.js","mappings":"kPAAO,IAAMA,EAAU,wBACVC,EAAU,YAEVC,EAAY,CACvBC,KAAM,CACJC,MAAM,GAAD,OAAKH,EAAL,UACLI,SAAS,GAAD,OAAKJ,EAAL,c,sKC8FZ,UAzFc,WACZ,OAKIK,EAAAA,EAAAA,MAJFD,EADF,EACEA,SACAE,EAFF,EAEEA,aACAC,EAHF,EAGEA,MACaC,EAJf,EAIEC,UAAaD,OAKf,IAFeE,EAAAA,EAAAA,cAEqBC,EAAAA,EAAAA,WAAS,IAA7C,eAAOC,EAAP,KAAmBC,EAAnB,MAEAC,EAAAA,EAAAA,YAAU,WAAO,IAAD,EACd,aAA0CC,EAAAA,EAAAA,WAAU,sBAApD,QAAsE,CAAC,EAAvE,IAAQC,MAAAA,OAAR,MAAgB,KAAhB,MAAsBC,SAAAA,OAAtB,MAAiC,KAAjC,EACKD,GAAUC,IACfV,EAAM,CAAES,MAAAA,EAAOC,SAAAA,IACfJ,GAAc,GACf,GAAE,IAEH,IAAMK,EAAQ,yCAAG,WAAOC,GAAP,mFACaA,EAApBH,MAAoBG,EAAbF,SADA,mBAGGd,EAAAA,EAAAA,OAAMgB,GAHT,OAGTC,EAHS,OAIbC,QAAQC,IAAIF,GAJC,iDAcbG,EAAAA,EAAAA,OAAM,CAAEC,KAAM,QAASC,QAAO,OAAC,EAAD,yBAAE,KAAOA,UAd1B,yDAAH,sDAsBd,OACE,4BACE,iBAAKC,UAAWC,EAAAA,QAAAA,YAAhB,WACE,uDACA,sDAEF,iBAAKD,UAAWC,EAAAA,QAAAA,YAAhB,WACE,SAAC,EAAAC,MAAD,CACEC,MAAM,QACNC,YAAY,cACZ1B,SAAUA,EAAS,QAAS,CAC1B2B,UAAU,EACVC,QACE,gEAEJC,MAAK,OAAEzB,QAAF,IAAEA,OAAF,EAAEA,EAAQQ,MACfS,QAAS,CACPM,SAAU,wBACVC,QAAS,uBAGb,SAAC,EAAAE,cAAD,CACEL,MAAM,WACNC,YAAY,iBACZ1B,SAAUA,EAAS,WAAY,CAAE2B,UAAU,IAC3CE,MAAOzB,EAAOS,SACdQ,QAAS,CAAEM,SAAU,4BAEvB,SAAC,EAAAI,SAAD,CACEN,MAAM,aACNO,KAAK,aACLC,SAnCe,SAAC,GAA6B,IAAjBC,EAAgB,EAA1BC,OAAUD,QAClCzB,EAAcyB,EACf,EAkCOA,QAAS1B,KAEX,mBAAQc,UAAU,cAAcc,QAASlC,EAAaY,GAAtD,qBAGA,iBAAKQ,UAAWC,EAAAA,QAAAA,SAAhB,WACE,wDACA,SAAC,KAAD,CAASc,GAAG,iBAAZ,UACE,iDAMX,C,6FC/FYtC,EAAQ,SAACgB,GACpB,OAAOuB,EAAAA,EAAAA,OAAM,CAAEC,IAAK1C,EAAAA,UAAAA,KAAAA,MAAsB2C,OAAQ,OAAQzB,KAAAA,GAC3D,C,gHCDYuB,EAAQG,IAAAA,OAAa,CAAE9C,QAAAA,EAAAA,UAEpC2C,EAAMI,aAAaC,QAAQC,KACzB,SAACC,GACC,IAAMC,GAAQnC,EAAAA,EAAAA,WAAU,aAIxB,OAHImC,IACFD,EAAOE,QAAQC,cAAgBF,GAE1BD,CACR,IACD,SAAChB,GACC,OAAOoB,QAAQC,OAAOrB,EACvB,IAGHS,EAAMI,aAAaS,SAASP,KAC1B,SAACO,GACC,OAAOA,CACR,IACD,SAACtB,GACC,GAA8B,MAA1BA,EAAMsB,SAASC,OAAgB,EACjCC,EAAAA,EAAAA,aAAY,aACZ,IAAMC,EAAQ,IAAIC,YAAY,UAC9BC,SAASC,cAAcH,EACxB,CAED,OADArC,QAAQC,IAAIW,EAAMsB,SAAU,OACrBF,QAAQC,OAAOrB,EAAMsB,SAASpC,KACtC,G,+BC9BH,WAAgB,YAAc,2BAA2B,YAAc,2BAA2B,SAAW,wB","sources":["config/index.js","pages/Login/index.js","services/Auth.js","services/index.js","webpack://react-chat-app/./src/pages/Login/Login.module.scss?62e7"],"sourcesContent":["export const baseURL = \"http://localhost:8000\";\nexport const authURL = \"/api/auth\";\n\nexport const endpoints = {\n  auth: {\n    login: `${authURL}/login`,\n    register: `${authURL}/register`,\n  },\n};\n","import React, { useEffect, useState } from \"react\";\nimport { useForm } from \"react-hook-form\";\nimport { CheckBox, Input, PasswordInput } from \"components\";\nimport { getCookie, setCookie } from \"utils\";\nimport { useRouter } from \"hooks\";\nimport { NavLink } from \"react-router-dom\";\nimport { Toast } from \"components\";\nimport { login } from \"services/Auth\";\n\nimport styles from \"./Login.module.scss\";\n\nconst Login = () => {\n  const {\n    register,\n    handleSubmit,\n    reset,\n    formState: { errors },\n  } = useForm();\n\n  const router = useRouter();\n\n  const [rememberMe, setRememberMe] = useState(false);\n\n  useEffect(() => {\n    const { email = null, password = null } = getCookie(\"login-cache\") ?? {};\n    if (!email || !password) return;\n    reset({ email, password });\n    setRememberMe(true);\n  }, []);\n\n  const onSubmit = async (data) => {\n    const { email, password } = data;\n    try {\n      let res = await login(data);\n      console.log(res);\n      //   if (rememberMe) {\n      //     setCookie({\n      //       name: \"login-cache\",\n      //       value: { email, password },\n      //       days: 14,\n      //     });\n      //   }\n      //   router.push(\"/chats\");\n    } catch (error) {\n      Toast({ type: \"error\", message: error?.message });\n    }\n  };\n\n  const handleCheckBox = ({ target: { checked } }) => {\n    setRememberMe(checked);\n  };\n\n  return (\n    <div>\n      <div className={styles.login_title}>\n        <b>Welcome Back! ðŸ‘‹</b>\n        <span>Sign in to continue</span>\n      </div>\n      <div className={styles.login_field}>\n        <Input\n          label=\"Email\"\n          placeholder=\"Enter email\"\n          register={register(\"email\", {\n            required: true,\n            pattern:\n              /^([A-Za-z0-9_\\-\\.])+\\@([A-Za-z0-9_\\-\\.])+\\.([A-Za-z]{2,4})$/,\n          })}\n          error={errors?.email}\n          message={{\n            required: \"Please enter email id\",\n            pattern: \"Invalid email id\",\n          }}\n        />\n        <PasswordInput\n          label=\"Password\"\n          placeholder=\"Enter Password\"\n          register={register(\"password\", { required: true })}\n          error={errors.password}\n          message={{ required: \"Please enter password\" }}\n        />\n        <CheckBox\n          label=\"Remeber Me\"\n          name=\"rememberMe\"\n          onChange={handleCheckBox}\n          checked={rememberMe}\n        />\n        <button className=\"btn-primary\" onClick={handleSubmit(onSubmit)}>\n          Log In\n        </button>\n        <div className={styles.register}>\n          <span>Dont't have an account ?</span>\n          <NavLink to=\"/auth/register\">\n            <span>Register</span>\n          </NavLink>\n        </div>\n      </div>\n    </div>\n  );\n};\n\nexport default Login;\n","import { axios } from \"services\";\nimport { endpoints } from \"config\";\n\nexport const login = (data) => {\n  return axios({ url: endpoints.auth.login, method: \"post\", data });\n};\n","import Axios from \"axios\";\nimport { getCookie, clearCookie } from \"utils\";\nimport { baseURL } from \"config\";\n\nexport const axios = Axios.create({ baseURL });\n\naxios.interceptors.request.use(\n  (config) => {\n    const token = getCookie(\"authToken\");\n    if (token) {\n      config.headers.Authorization = token;\n    }\n    return config;\n  },\n  (error) => {\n    return Promise.reject(error);\n  }\n);\n\naxios.interceptors.response.use(\n  (response) => {\n    return response;\n  },\n  (error) => {\n    if (error.response.status === 401) {\n      clearCookie(\"authToken\");\n      const event = new CustomEvent(\"logout\");\n      document.dispatchEvent(event);\n    }\n    console.log(error.response, \"res\");\n    return Promise.reject(error.response.data);\n  }\n);\n","// extracted by mini-css-extract-plugin\nexport default {\"login_title\":\"Login_login_title__DtVsO\",\"login_field\":\"Login_login_field__Uyc8w\",\"register\":\"Login_register__2QbhW\"};"],"names":["baseURL","authURL","endpoints","auth","login","register","useForm","handleSubmit","reset","errors","formState","useRouter","useState","rememberMe","setRememberMe","useEffect","getCookie","email","password","onSubmit","data","res","console","log","Toast","type","message","className","styles","Input","label","placeholder","required","pattern","error","PasswordInput","CheckBox","name","onChange","checked","target","onClick","to","axios","url","method","Axios","interceptors","request","use","config","token","headers","Authorization","Promise","reject","response","status","clearCookie","event","CustomEvent","document","dispatchEvent"],"sourceRoot":""}