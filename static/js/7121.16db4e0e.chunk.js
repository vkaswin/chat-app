"use strict";(self.webpackChunkreact_chat_app=self.webpackChunkreact_chat_app||[]).push([[7121,7321,9599,3537],{7121:function(e,t,n){n.r(t);var a=n(4165),r=n(5861),s=n(885),o=n(2791),c=n(9930),u=n(3537),i=n(7321),p=n(184);t.default=function(e){var t=e.isOpen,n=e.toggle,d=e.msgId,l=(0,o.useState)([]),f=(0,s.Z)(l,2),g=f[0],m=f[1];(0,o.useEffect)((function(){t&&v(1)}),[t,d]);var v=function(){var e=(0,r.Z)((0,a.Z)().mark((function e(t){var n,r,s;return(0,a.Z)().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return n={page:t,limit:25},e.prev=1,e.next=4,(0,u.getSeenByMsgId)(d,n);case 4:r=e.sent,s=r.data.data,m(s),e.next=12;break;case 9:e.prev=9,e.t0=e.catch(1),(0,c.Toast)({type:"error",message:null===e.t0||void 0===e.t0?void 0:e.t0.message});case 12:case"end":return e.stop()}}),e,null,[[1,9]])})));return function(t){return e.apply(this,arguments)}}();return(0,p.jsx)(c.Modal,{isOpen:t,toggle:n,children:(0,p.jsxs)("div",{className:i.default.popup,children:[(0,p.jsx)("div",{className:i.default.reactions,children:(0,p.jsx)("div",{className:i.default.all,children:(0,p.jsx)("span",{children:"Seen"})})}),(0,p.jsx)("div",{className:i.default.users,children:g.map((function(e,t){var n=e.avatar,a=(e.email,e.id),r=e.name,s=e.status,o=(e.date,e.colorCode);return(0,p.jsxs)("div",{className:i.default.card,children:[(0,p.jsx)(c.Avatar,{name:r,size:40,status:s,userId:a,src:n||o}),(0,p.jsx)("span",{children:r})]},t)}))})]})})}},3537:function(e,t,n){n.r(t),n.d(t,{createMessage:function(){return s},getReactions:function(){return o},getReactionsByType:function(){return c},getSeenByMsgId:function(){return u}});var a=n(9599),r=n(77),s=function(e,t){return(0,a.axios)({url:"".concat(r.endpoints.message.createMessage,"/").concat(e),method:"post",data:t})},o=function(e){return(0,a.axios)({url:"".concat(r.endpoints.message.getReaction,"/").concat(e),method:"get"})},c=function(e,t){return(0,a.axios)({url:"".concat(r.endpoints.message.getReactionByType,"/").concat(e),method:"get",params:t})},u=function(e,t){return(0,a.axios)({url:"".concat(r.endpoints.message.getSeen,"/").concat(e),method:"get",params:t})}},9599:function(e,t,n){n.r(t),n.d(t,{axios:function(){return c}});var a=n(4569),r=n.n(a),s=n(2703),o=n(77),c=r().create({baseURL:o.baseURL});c.interceptors.request.use((function(e){var t=(0,s.cookies)().get("authToken");return t&&(e.headers.Authorization=t),e}),(function(e){return Promise.reject(e)})),c.interceptors.response.use((function(e){return e}),(function(e){var t;return 401===e.response.status&&document.dispatchEvent(new CustomEvent("logout")),Promise.reject(null===e||void 0===e||null===(t=e.response)||void 0===t?void 0:t.data)}))},7321:function(e,t,n){n.r(t),t.default={popup:"SeenPopup_popup__Y4qhk",reactions:"SeenPopup_reactions__MG2fO",all:"SeenPopup_all__r9B82",users:"SeenPopup_users__L5xMC",card:"SeenPopup_card__FRfpx"}}}]);
//# sourceMappingURL=7121.16db4e0e.chunk.js.map