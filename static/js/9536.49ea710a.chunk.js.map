{"version":3,"file":"static/js/9536.49ea710a.chunk.js","mappings":"uOA8FA,UArFiB,WACf,OAIIA,EAAAA,EAAAA,MAHFC,EADF,EACEA,SACAC,EAFF,EAEEA,aACaC,EAHf,EAGEC,UAAaD,OAGTE,GAASC,EAAAA,EAAAA,WAETC,GAASC,EAAAA,EAAAA,cAEfC,EAAAA,EAAAA,YAAU,WAER,OADAC,SAASC,iBAAiB,QAASC,GAC5B,kBAAMF,SAASG,oBAAoB,QAASD,EAA5C,CACR,GAAE,IAEH,IAAMA,EAAgB,SAAC,GACL,KADqB,EAAdE,SAGvBZ,EAAaa,EAAbb,EACD,EAEKa,EAAQ,yCAAG,WAAOC,GAAP,wGAIHC,EAAAA,EAAAA,cAAaD,GAJV,gBAGHE,EAHG,EAGXF,KAAQE,QAEVb,EAAOc,OAAO,kBACdC,EAAAA,EAAAA,OAAM,CAAEC,KAAM,UAAWH,QAAAA,IACzBX,EAAOe,KAAK,UAPC,mDASbF,EAAAA,EAAAA,OAAM,CAAEC,KAAM,QAASH,QAAO,OAAC,EAAD,yBAAE,KAAOA,UAT1B,0DAAH,sDAad,OACE,4BACE,iBAAKK,UAAWC,EAAAA,QAAAA,eAAhB,WACE,6CACA,6DAEF,iBAAKD,UAAWC,EAAAA,QAAAA,eAAhB,WACE,SAAC,EAAAC,MAAD,CACEC,MAAM,WACNC,YAAY,iBACZ1B,SAAUA,EAAS,OAAQ,CACzB2B,UAAU,EACVC,QAAS,eACTC,UAAW,IAEbC,MAAK,OAAE5B,QAAF,IAAEA,OAAF,EAAEA,EAAQ6B,KACfd,QAAS,CACPU,SAAU,wBACVE,UAAW,wCACXD,QAAS,wDAGb,SAAC,EAAAJ,MAAD,CACEC,MAAM,QACNC,YAAY,cACZ1B,SAAUA,EAAS,QAAS,CAC1B2B,UAAU,EACVC,QACE,gEAEJE,MAAK,OAAE5B,QAAF,IAAEA,OAAF,EAAEA,EAAQ8B,MACff,QAAS,CACPU,SAAU,wBACVC,QAAS,uBAGb,SAAC,EAAAK,cAAD,CACER,MAAM,WACNzB,SAAUA,EAAS,WAAY,CAAE2B,UAAU,IAC3CG,MAAO5B,EAAOgC,SACdjB,QAAS,CAAEU,SAAU,4BAEvB,mBAAQL,UAAU,cAAca,QAASlC,EAAaa,GAAtD,2BAMP,C,+JCxFYsB,G,QAAY,SAACrB,GACxB,OAAOsB,EAAAA,EAAAA,OAAM,CAAEC,IAAKC,EAAAA,UAAAA,KAAAA,MAAsBC,OAAQ,OAAQzB,KAAAA,GAC3D,GAEYC,EAAe,SAACD,GAC3B,OAAOsB,EAAAA,EAAAA,OAAM,CAAEC,IAAKC,EAAAA,UAAAA,KAAAA,SAAyBC,OAAQ,OAAQzB,KAAAA,GAC9D,EAEY0B,EAAc,SAACC,GAC1B,OAAOL,EAAAA,EAAAA,OAAM,CAAEC,IAAKC,EAAAA,UAAAA,KAAAA,OAAuBC,OAAQ,MAAOE,OAAAA,GAC3D,C,2GCVYL,EAAQM,IAAAA,OAAa,CAAEC,QAAAA,EAAAA,UAEpCP,EAAMQ,aAAaC,QAAQC,KACzB,SAACC,GACC,IAEMC,GAFS5C,EAAAA,EAAAA,WAEM6C,IAAI,cAIzB,OAHID,IACFD,EAAOG,QAAQC,cAAgBH,GAE1BD,CACR,IACD,SAAClB,GACC,OAAOuB,QAAQC,OAAOxB,EACvB,IAGHO,EAAMQ,aAAaU,SAASR,KAC1B,SAACQ,GACC,OAAOA,CACR,IACD,SAACzB,GAAW,IAAD,EAIT,OAH8B,MAA1BA,EAAMyB,SAASC,QACjB/C,SAASgD,cAAc,IAAIC,YAAY,WAElCL,QAAQC,OAAR,OAAexB,QAAf,IAAeA,GAAf,UAAeA,EAAOyB,gBAAtB,aAAe,EAAiBxC,KACxC,G,8BC7BH,WAAgB,eAAiB,iCAAiC,eAAiB,iC","sources":["pages/Register/index.js","services/User.js","services/index.js","webpack://chat-app/./src/pages/Register/Register.module.scss?d3b3"],"sourcesContent":["import React, { useEffect } from \"react\";\nimport { useForm } from \"react-hook-form\";\nimport { Input, PasswordInput, Toast } from \"components\";\nimport { registerUser } from \"services/User\";\nimport { useRouter } from \"hooks\";\nimport { cookies } from \"utils\";\n\nimport styles from \"./Register.module.scss\";\n\nconst Register = () => {\n  const {\n    register,\n    handleSubmit,\n    formState: { errors },\n  } = useForm();\n\n  const cookie = cookies();\n\n  const router = useRouter();\n\n  useEffect(() => {\n    document.addEventListener(\"keyup\", handleKeyDown);\n    return () => document.removeEventListener(\"keyup\", handleKeyDown);\n  }, []);\n\n  const handleKeyDown = ({ keyCode }) => {\n    if (keyCode !== 13) return;\n\n    handleSubmit(onSubmit)();\n  };\n\n  const onSubmit = async (data) => {\n    try {\n      let {\n        data: { message },\n      } = await registerUser(data);\n      cookie.remove(\"login_session\");\n      Toast({ type: \"success\", message });\n      router.push(\"/login\");\n    } catch (error) {\n      Toast({ type: \"error\", message: error?.message });\n    }\n  };\n\n  return (\n    <div>\n      <div className={styles.register_title}>\n        <b>Register Account</b>\n        <span>Get your free account now.</span>\n      </div>\n      <div className={styles.register_field}>\n        <Input\n          label=\"Username\"\n          placeholder=\"Enter username\"\n          register={register(\"name\", {\n            required: true,\n            pattern: /^[A-Za-z ]+$/,\n            minLength: 3,\n          })}\n          error={errors?.name}\n          message={{\n            required: \"Please enter username\",\n            minLength: \"Username contain atleast 3 characters\",\n            pattern: \"Username should contain only alphabets and spaces\",\n          }}\n        />\n        <Input\n          label=\"Email\"\n          placeholder=\"Enter email\"\n          register={register(\"email\", {\n            required: true,\n            pattern:\n              /^([A-Za-z0-9_\\-\\.])+\\@([A-Za-z0-9_\\-\\.])+\\.([A-Za-z]{2,4})$/,\n          })}\n          error={errors?.email}\n          message={{\n            required: \"Please enter email id\",\n            pattern: \"Invalid email id\",\n          }}\n        />\n        <PasswordInput\n          label=\"Password\"\n          register={register(\"password\", { required: true })}\n          error={errors.password}\n          message={{ required: \"Please enter password\" }}\n        />\n        <button className=\"btn-primary\" onClick={handleSubmit(onSubmit)}>\n          Register\n        </button>\n      </div>\n    </div>\n  );\n};\n\nexport default Register;\n","import { axios } from \"services\";\nimport { endpoints } from \"config\";\nimport { cookies } from \"utils\";\n\nexport const loginUser = (data) => {\n  return axios({ url: endpoints.user.login, method: \"post\", data });\n};\n\nexport const registerUser = (data) => {\n  return axios({ url: endpoints.user.register, method: \"post\", data });\n};\n\nexport const searchUsers = (params) => {\n  return axios({ url: endpoints.user.search, method: \"get\", params });\n};\n","import Axios from \"axios\";\nimport { cookies } from \"utils\";\nimport { baseURL } from \"config\";\n\nexport const axios = Axios.create({ baseURL });\n\naxios.interceptors.request.use(\n  (config) => {\n    const cookie = cookies();\n\n    const token = cookie.get(\"auth_token\");\n    if (token) {\n      config.headers.Authorization = token;\n    }\n    return config;\n  },\n  (error) => {\n    return Promise.reject(error);\n  }\n);\n\naxios.interceptors.response.use(\n  (response) => {\n    return response;\n  },\n  (error) => {\n    if (error.response.status === 401) {\n      document.dispatchEvent(new CustomEvent(\"logout\"));\n    }\n    return Promise.reject(error?.response?.data);\n  }\n);\n","// extracted by mini-css-extract-plugin\nexport default {\"register_title\":\"Register_register_title__QTq3f\",\"register_field\":\"Register_register_field__nUSF1\"};"],"names":["useForm","register","handleSubmit","errors","formState","cookie","cookies","router","useRouter","useEffect","document","addEventListener","handleKeyDown","removeEventListener","keyCode","onSubmit","data","registerUser","message","remove","Toast","type","push","className","styles","Input","label","placeholder","required","pattern","minLength","error","name","email","PasswordInput","password","onClick","loginUser","axios","url","endpoints","method","searchUsers","params","Axios","baseURL","interceptors","request","use","config","token","get","headers","Authorization","Promise","reject","response","status","dispatchEvent","CustomEvent"],"sourceRoot":""}