"use strict";(self.webpackChunkchat_app=self.webpackChunkchat_app||[]).push([[9536,7450,9599,4898],{9536:function(e,r,t){t.r(r);var n=t(4165),s=t(5861),a=t(2791),i=t(9195),o=t(9930),u=t(4898),c=t(4717),l=t(2703),d=t(7450),p=t(184);r.default=function(){var e=(0,i.cI)(),r=e.register,t=e.handleSubmit,m=e.formState.errors,f=(0,l.cookies)(),g=(0,c.useRouter)();(0,a.useEffect)((function(){return document.addEventListener("keyup",h),function(){return document.removeEventListener("keyup",h)}}),[]);var h=function(e){13===e.keyCode&&t(v)()},v=function(){var e=(0,s.Z)((0,n.Z)().mark((function e(r){var t,s;return(0,n.Z)().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,e.next=3,(0,u.registerUser)(r);case 3:t=e.sent,s=t.data.message,f.remove("login_session"),(0,o.Toast)({type:"success",message:s}),g.push("/login"),e.next=13;break;case 10:e.prev=10,e.t0=e.catch(0),(0,o.Toast)({type:"error",message:null===e.t0||void 0===e.t0?void 0:e.t0.message});case 13:case"end":return e.stop()}}),e,null,[[0,10]])})));return function(r){return e.apply(this,arguments)}}();return(0,p.jsxs)("div",{children:[(0,p.jsxs)("div",{className:d.default.register_title,children:[(0,p.jsx)("b",{children:"Register Account"}),(0,p.jsx)("span",{children:"Get your free account now."})]}),(0,p.jsxs)("div",{className:d.default.register_field,children:[(0,p.jsx)(o.Input,{label:"Username",placeholder:"Enter username",register:r("name",{required:!0,pattern:/^[A-Za-z ]+$/,minLength:3}),error:null===m||void 0===m?void 0:m.name,message:{required:"Please enter username",minLength:"Username contain atleast 3 characters",pattern:"Username should contain only alphabets and spaces"}}),(0,p.jsx)(o.Input,{label:"Email",placeholder:"Enter email",register:r("email",{required:!0,pattern:/^([A-Za-z0-9_\-\.])+\@([A-Za-z0-9_\-\.])+\.([A-Za-z]{2,4})$/}),error:null===m||void 0===m?void 0:m.email,message:{required:"Please enter email id",pattern:"Invalid email id"}}),(0,p.jsx)(o.PasswordInput,{label:"Password",register:r("password",{required:!0}),error:m.password,message:{required:"Please enter password"}}),(0,p.jsx)("button",{className:"btn-primary",onClick:t(v),children:"Register"})]})]})}},4898:function(e,r,t){t.r(r),t.d(r,{loginUser:function(){return a},registerUser:function(){return i},searchUsers:function(){return o}});var n=t(9599),s=t(8830),a=function(e){return(0,n.axios)({url:s.endpoints.user.login,method:"post",data:e})},i=function(e){return(0,n.axios)({url:s.endpoints.user.register,method:"post",data:e})},o=function(e){return(0,n.axios)({url:s.endpoints.user.search,method:"get",params:e})}},9599:function(e,r,t){t.r(r),t.d(r,{axios:function(){return o}});var n=t(4569),s=t.n(n),a=t(2703),i=t(8830),o=s().create({baseURL:i.baseURL});o.interceptors.request.use((function(e){var r=(0,a.cookies)().get("auth_token");return r&&(e.headers.Authorization=r),e}),(function(e){return Promise.reject(e)})),o.interceptors.response.use((function(e){return e}),(function(e){var r;return 401===e.response.status&&document.dispatchEvent(new CustomEvent("logout")),Promise.reject(null===e||void 0===e||null===(r=e.response)||void 0===r?void 0:r.data)}))},7450:function(e,r,t){t.r(r),r.default={register_title:"Register_register_title__QTq3f",register_field:"Register_register_field__nUSF1"}}}]);
//# sourceMappingURL=9536.d568bd56.chunk.js.map